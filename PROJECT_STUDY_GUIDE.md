# MovieLens ì˜í™” ì¶”ì²œ ì‹œìŠ¤í…œ - ì™„ë²½ ê³µë¶€ ê°€ì´ë“œ

> ë°ì´í„° ë¶„ì„ê°€ í¬íŠ¸í´ë¦¬ì˜¤ í”„ë¡œì íŠ¸ ì™„ì „ ë¶„ì„
> ì‘ì„±ì¼: 2025-12-09

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ë°ì´í„°ì…‹ ì´í•´](#2-ë°ì´í„°ì…‹-ì´í•´)
3. [íƒìƒ‰ì  ë°ì´í„° ë¶„ì„ (EDA)](#3-íƒìƒ‰ì -ë°ì´í„°-ë¶„ì„-eda)
4. [ì¶”ì²œ ì‹œìŠ¤í…œ ì´ë¡ ](#4-ì¶”ì²œ-ì‹œìŠ¤í…œ-ì´ë¡ )
5. [5ê°€ì§€ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ìƒì„¸](#5-5ê°€ì§€-ì¶”ì²œ-ì•Œê³ ë¦¬ì¦˜-ìƒì„¸)
6. [í‰ê°€ ë°©ë²•ë¡ ](#6-í‰ê°€-ë°©ë²•ë¡ )
7. [ê¸°ìˆ  ìŠ¤íƒ ë° êµ¬í˜„](#7-ê¸°ìˆ -ìŠ¤íƒ-ë°-êµ¬í˜„)
8. [ë¬¸ì œ í•´ê²° ì‚¬ë¡€](#8-ë¬¸ì œ-í•´ê²°-ì‚¬ë¡€)
9. [ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸](#9-ë©´ì ‘-ì˜ˆìƒ-ì§ˆë¬¸)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ ëª©ì 

**"ì‚¬ìš©ìê°€ ì¢‹ì•„í•  ë§Œí•œ ì˜í™”ë¥¼ ì •í™•í•˜ê²Œ ì¶”ì²œí•˜ëŠ” ì‹œìŠ¤í…œ ê°œë°œ"**

- **ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ**: ì‚¬ìš©ì ë§Œì¡±ë„ í–¥ìƒ ë° í”Œë«í¼ ì²´ë¥˜ ì‹œê°„ ì¦ê°€
- **ê¸°ìˆ ì  ëª©í‘œ**: 5ê°€ì§€ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ ë° ì„±ëŠ¥ ë¹„êµ
- **ë¶„ì„ ëª©í‘œ**: ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì • ì²´ê³„ êµ¬ì¶• (A/B í…ŒìŠ¤íŠ¸)

### 1.2 í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ì˜í™”ì¶”ì²œí”„ë¡œê·¸ë¨/
â”œâ”€â”€ data/                    # ë°ì´í„° íŒŒì¼
â”‚   â””â”€â”€ ml-1m/              # MovieLens 1M ë°ì´í„°ì…‹
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ db_connection.py    # DB ì—°ê²° ê´€ë¦¬
â”‚   â”œâ”€â”€ evaluator.py        # í‰ê°€ ì§€í‘œ ê³„ì‚°
â”‚   â””â”€â”€ recommenders/       # ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
â”‚       â”œâ”€â”€ popularity.py   # ì¸ê¸°ë„ ê¸°ë°˜
â”‚       â”œâ”€â”€ genre.py        # ì¥ë¥´ ê¸°ë°˜
â”‚       â”œâ”€â”€ similarity.py   # í˜‘ì—… í•„í„°ë§
â”‚       â”œâ”€â”€ ml_based.py     # ML (SVD)
â”‚       â””â”€â”€ hybrid.py       # í•˜ì´ë¸Œë¦¬ë“œ
â”œâ”€â”€ notebooks/
â”‚   â””â”€â”€ eda.ipynb           # íƒìƒ‰ì  ë°ì´í„° ë¶„ì„
â”œâ”€â”€ models/
â”‚   â””â”€â”€ svd_model.pkl       # í•™ìŠµëœ ML ëª¨ë¸
â”œâ”€â”€ app.py                  # Streamlit ì›¹ ì•±
â””â”€â”€ requirements.txt        # ì˜ì¡´ì„± íŒ¨í‚¤ì§€
```

### 1.3 ê°œë°œ í™˜ê²½

- **Python**: 3.11
- **ë°ì´í„°ë² ì´ìŠ¤**: PostgreSQL 16
- **ì›¹ í”„ë ˆì„ì›Œí¬**: Streamlit 1.29.0
- **ë°ì´í„° ë¶„ì„**: Pandas, NumPy, Matplotlib, Seaborn
- **ë¨¸ì‹ ëŸ¬ë‹**: scikit-learn, scipy

---

## 2. ë°ì´í„°ì…‹ ì´í•´

### 2.1 MovieLens 1M ë°ì´í„°ì…‹

MovieLensëŠ” ì˜í™” ì¶”ì²œ ì—°êµ¬ë¥¼ ìœ„í•´ ë¯¸ë„¤ì†Œíƒ€ ëŒ€í•™ì—ì„œ ì œê³µí•˜ëŠ” ê³µê°œ ë°ì´í„°ì…‹ì…ë‹ˆë‹¤.

**ê¸°ë³¸ í†µê³„:**
- **ì‚¬ìš©ì ìˆ˜**: 6,040ëª…
- **ì˜í™” ìˆ˜**: 3,883í¸
- **í‰ì  ìˆ˜**: 1,000,209ê°œ
- **ì¥ë¥´ ìˆ˜**: 18ê°œ
- **í‰ì  ë²”ìœ„**: 1.0 ~ 5.0 (0.5 ë‹¨ìœ„)
- **ìˆ˜ì§‘ ê¸°ê°„**: 2000ë…„ëŒ€ ì´ˆë°˜

### 2.2 ë°ì´í„° êµ¬ì¡°

#### 2.2.1 Users (ì‚¬ìš©ì) í…Œì´ë¸”

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|------|
| user_id | INT | ì‚¬ìš©ì ê³ ìœ  ID | 1, 2, 3, ... |
| gender | CHAR(1) | ì„±ë³„ | 'M', 'F' |
| age | INT | ì—°ë ¹ëŒ€ ì½”ë“œ | 1, 18, 25, 35, 45, 50, 56 |
| occupation | VARCHAR | ì§ì—… | 'student', 'engineer' |
| zipcode | VARCHAR | ìš°í¸ë²ˆí˜¸ | '10001' |

**ì—°ë ¹ëŒ€ ì½”ë“œ:**
- 1: 18ì„¸ ë¯¸ë§Œ
- 18: 18-24ì„¸
- 25: 25-34ì„¸
- 35: 35-44ì„¸
- 45: 45-49ì„¸
- 50: 50-55ì„¸
- 56: 56ì„¸ ì´ìƒ

#### 2.2.2 Movies (ì˜í™”) í…Œì´ë¸”

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|------|
| movie_id | INT | ì˜í™” ê³ ìœ  ID | 1, 2, 3, ... |
| title | VARCHAR | ì˜í™” ì œëª© | 'Toy Story (1995)' |
| release_year | INT | ê°œë´‰ ì—°ë„ | 1995 |

#### 2.2.3 Ratings (í‰ì ) í…Œì´ë¸”

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|------|
| rating_id | SERIAL | í‰ì  ê³ ìœ  ID | 1, 2, 3, ... |
| user_id | INT | ì‚¬ìš©ì ID (FK) | 1 |
| movie_id | INT | ì˜í™” ID (FK) | 1193 |
| rating | DECIMAL | í‰ì  (1-5) | 4.5 |
| timestamp | BIGINT | Unix íƒ€ì„ìŠ¤íƒ¬í”„ | 978300760 |

#### 2.2.4 Genres (ì¥ë¥´) í…Œì´ë¸”

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|------|
| genre_id | SERIAL | ì¥ë¥´ ê³ ìœ  ID | 1, 2, 3, ... |
| genre_name | VARCHAR | ì¥ë¥´ ì´ë¦„ | 'Action', 'Comedy' |

**18ê°œ ì¥ë¥´:**
Action, Adventure, Animation, Children's, Comedy, Crime, Documentary, Drama, Fantasy, Film-Noir, Horror, Musical, Mystery, Romance, Sci-Fi, Thriller, War, Western

#### 2.2.5 Movie_Genres (ì˜í™”-ì¥ë¥´ ì—°ê²°) í…Œì´ë¸”

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… |
|--------|------|------|
| movie_id | INT | ì˜í™” ID (FK) |
| genre_id | INT | ì¥ë¥´ ID (FK) |

**ì°¸ê³ :** í•œ ì˜í™”ëŠ” ì—¬ëŸ¬ ì¥ë¥´ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ë‹¤ëŒ€ë‹¤ ê´€ê³„)

### 2.3 Train/Test ë¶„ë¦¬

**ë¶„ë¦¬ ë°©ë²•: ì‹œê°„ ê¸°ë°˜ (Time-based Split)**

```
ì‚¬ìš©ìë³„ë¡œ:
1. í‰ì ì„ timestamp ê¸°ì¤€ ì •ë ¬
2. ìµœê·¼ 20% â†’ Test set
3. ë‚˜ë¨¸ì§€ 80% â†’ Train set
```

**ê²°ê³¼:**
- Train set: 802,553ê°œ í‰ì  (80.2%)
- Test set: 197,656ê°œ í‰ì  (19.8%)

**ì™œ ì‹œê°„ ê¸°ë°˜ì¸ê°€?**
- **í˜„ì‹¤ì„±**: ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ê³¼ê±° ë°ì´í„°ë¡œ í•™ìŠµ â†’ ë¯¸ë˜ ì˜ˆì¸¡
- **ë°ì´í„° ëˆ„ìˆ˜ ë°©ì§€**: Random splitì€ ë¯¸ë˜ ì •ë³´ê°€ í•™ìŠµì— í¬í•¨ë  ìœ„í—˜
- **A/B í…ŒìŠ¤íŠ¸ ì¬í˜„**: ì‹¤ì œ A/B í…ŒìŠ¤íŠ¸ì™€ ë™ì¼í•œ ì¡°ê±´

---

## 3. íƒìƒ‰ì  ë°ì´í„° ë¶„ì„ (EDA)

### 3.1 EDAë€?

**Exploratory Data Analysis (íƒìƒ‰ì  ë°ì´í„° ë¶„ì„)**

ë°ì´í„°ë¥¼ ì´í•´í•˜ê³  íŒ¨í„´ì„ ë°œê²¬í•˜ê¸° ìœ„í•´ í†µê³„ì  ë¶„ì„ê³¼ ì‹œê°í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.

**ëª©ì :**
1. ë°ì´í„° íŠ¹ì„± íŒŒì•… (ë¶„í¬, í‰ê· , ë¶„ì‚° ë“±)
2. ì´ìƒì¹˜(Outlier) ë°œê²¬
3. ë³€ìˆ˜ ê°„ ê´€ê³„ íŒŒì•…
4. ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ ë„ì¶œ
5. ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„ ë°©í–¥ ê²°ì •

### 3.2 ì£¼ìš” ë°œê²¬ ì‚¬í•­

#### 3.2.1 í‰ì  ë¶„í¬

**í†µê³„:**
- í‰ê·  í‰ì : **3.70ì **
- ì¤‘ì•™ê°’: **4.0ì **
- í‘œì¤€í¸ì°¨: 1.13ì 

**ë¶„í¬ íŠ¹ì„±:**
- 4.0ì ì´ ê°€ì¥ ë§ìŒ (~35%)
- 3.0ì ì´ ë‘ ë²ˆì§¸ë¡œ ë§ìŒ (~25%)
- ì „ì²´ì ìœ¼ë¡œ **ê¸ì • í¸í–¥** (3.0ì  ì´ìƒì´ ëŒ€ë¶€ë¶„)

**í•´ì„:**
â†’ ì‚¬ìš©ìë“¤ì€ ì¢‹ì•„í•˜ëŠ” ì˜í™” ìœ„ì£¼ë¡œ í‰ì ì„ ë‚¨ê¸°ëŠ” ê²½í–¥ (Selection Bias)

#### 3.2.2 ì‚¬ìš©ì í™œë™ ë¶„í¬

**í†µê³„:**
- ì‚¬ìš©ìë‹¹ í‰ì  ìˆ˜ ì¤‘ì•™ê°’: **96ê°œ**
- ìµœì†Œ: 20ê°œ (ëª¨ë“  ì‚¬ìš©ìê°€ 20ê°œ ì´ìƒ í‰ì  ë³´ìœ )
- ìµœëŒ€: 2,314ê°œ

**Cold Start ë¶„ì„:**
- 20ê°œ ì´í•˜: 0ëª… (0.0%)
- 21-50ê°œ: 1,707ëª… (28.3%)
- 50ê°œ ì´ìƒ: 4,247ëª… (70.3%)

**í•´ì„:**
â†’ **ì‚¬ìš©ì Cold Start ë¬¸ì œëŠ” ì—†ìŒ** (ëª¨ë‘ ì¶©ë¶„í•œ í‰ì  ë³´ìœ )

#### 3.2.3 ì˜í™” ì¸ê¸°ë„ ë¶„í¬ (Long Tail)

**í†µê³„:**
- ì˜í™”ë‹¹ í‰ì  ìˆ˜ ì¤‘ì•™ê°’: **109ê°œ**
- ìµœì†Œ: 1ê°œ
- ìµœëŒ€: 3,428ê°œ

**Long Tail ë¶„í¬:**
- 5ê°œ ì´í•˜: 506í¸ (13.0%) â† **Cold Start ì˜í™”**
- 6-20ê°œ: 366í¸ (9.4%)
- 21-50ê°œ: 512í¸ (13.2%)
- 50ê°œ ì´ìƒ: 2,499í¸ (64.4%)

**Top 3 ì¸ê¸° ì˜í™”:**
1. "American Beauty (1999)" - 3,428ê°œ í‰ì 
2. "Star Wars: Episode IV (1977)" - 2,991ê°œ í‰ì 
3. "Star Wars: Episode V (1980)" - 2,990ê°œ í‰ì 

**í•´ì„:**
â†’ **Long Tail ë¶„í¬**: ì†Œìˆ˜ ì˜í™”ê°€ ëŒ€ë¶€ë¶„ì˜ í‰ì  ì°¨ì§€
â†’ **ì˜í™” Cold Start ë¬¸ì œ ì¡´ì¬**: 13%ì˜ ì˜í™”ê°€ ë°ì´í„° ë¶€ì¡±

#### 3.2.4 ë°ì´í„° í¬ì†Œì„± (Sparsity)

**ê³„ì‚°:**
```
ì „ì²´ ê°€ëŠ¥í•œ í‰ì  = 6,040 (users) Ã— 3,883 (movies) = 23,453,320ê°œ
ì‹¤ì œ í‰ì  = 1,000,209ê°œ
í¬ì†Œì„± = 1 - (1,000,209 / 23,453,320) = 95.74%
```

**ì˜ë¯¸:**
- ì „ì²´ í–‰ë ¬ì˜ **4.26%ë§Œ ì±„ì›Œì ¸ ìˆìŒ**
- 95.74%ëŠ” **ë¹ˆ ê³µê°„** (ì‚¬ìš©ìê°€ ì˜í™”ë¥¼ ë³´ì§€ ì•ŠìŒ)

**í•´ì„:**
â†’ **Sparse Matrix ìë£Œêµ¬ì¡° í•„ìš”** (ë©”ëª¨ë¦¬ íš¨ìœ¨í™”)
â†’ **í˜‘ì—… í•„í„°ë§ì˜ í•œê³„**: ê³µí†µ í‰ì ì´ ì ìœ¼ë©´ ìœ ì‚¬ë„ ê³„ì‚° ì–´ë ¤ì›€

#### 3.2.5 ì¥ë¥´ ì¸ê¸°ë„

**í‰ì  ìˆ˜ ê¸°ì¤€ Top 3:**
1. **Drama**: 354,529ê°œ (35.4%)
2. **Comedy**: 256,580ê°œ (25.7%)
3. **Action**: 257,457ê°œ (25.7%)

**í‰ê·  í‰ì  ê¸°ì¤€ Top 3:**
1. **Film-Noir**: 3.92ì 
2. **War**: 3.89ì 
3. **Documentary**: 3.82ì 

**í•´ì„:**
â†’ Drama/ComedyëŠ” **ì–‘ì ìœ¼ë¡œ** ì¸ê¸°
â†’ Film-Noir/WarëŠ” **ì§ˆì ìœ¼ë¡œ** ìš°ìˆ˜ (í‰ê·  í‰ì  ë†’ìŒ)

### 3.3 EDA ê¸°ë°˜ ì˜ì‚¬ê²°ì •

| ë°œê²¬ ì‚¬í•­ | ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„ ê²°ì • |
|-----------|-------------------|
| Long Tail ë¶„í¬ | ì¸ê¸°ë„ ê¸°ë°˜ ì¶”ì²œ í•„ìš” (Cold Start ëŒ€ì‘) |
| 95.74% í¬ì†Œì„± | Sparse Matrix ì‚¬ìš© (ë©”ëª¨ë¦¬ ìµœì í™”) |
| ì˜í™” 13% Cold Start | ë² ì´ì§€ì•ˆ ê°€ì¤‘ í‰ì  ì ìš© |
| ì¥ë¥´ ë©”íƒ€ë°ì´í„° í’ë¶€ | ì¥ë¥´ ê¸°ë°˜ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ |
| ì‚¬ìš©ìë³„ í‰ì  ì¶©ë¶„ | í˜‘ì—… í•„í„°ë§ ê°€ëŠ¥ |

---

## 4. ì¶”ì²œ ì‹œìŠ¤í…œ ì´ë¡ 

### 4.1 ì¶”ì²œ ì‹œìŠ¤í…œì´ë€?

**ì •ì˜:**
ì‚¬ìš©ìì˜ ê³¼ê±° í–‰ë™ íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬ **ê°œì¸í™”ëœ ì•„ì´í…œì„ ì œì•ˆ**í•˜ëŠ” ì‹œìŠ¤í…œ

**ì‹¤ìƒí™œ ì˜ˆì‹œ:**
- Netflix: "ë‹¹ì‹ ì´ ì¢‹ì•„í•  ë§Œí•œ ì˜í™”"
- YouTube: "ì¶”ì²œ ë™ì˜ìƒ"
- Amazon: "ì´ ìƒí’ˆì„ êµ¬ë§¤í•œ ê³ ê°ì´ í•¨ê»˜ ë³¸ ìƒí’ˆ"

### 4.2 ì¶”ì²œ ì‹œìŠ¤í…œì˜ ì£¼ìš” ì ‘ê·¼ë²•

#### 4.2.1 í˜‘ì—… í•„í„°ë§ (Collaborative Filtering)

**ì›ë¦¬:** "ë¹„ìŠ·í•œ ì·¨í–¥ì„ ê°€ì§„ ì‚¬ëŒë“¤ì€ ë¹„ìŠ·í•œ ê²ƒì„ ì¢‹ì•„í•  ê²ƒì´ë‹¤"

**ë‘ ê°€ì§€ ë°©ì‹:**

**1) User-based CF (ì‚¬ìš©ì ê¸°ë°˜)**
```
1. ë‚˜ì™€ ë¹„ìŠ·í•œ ì‚¬ìš©ì ì°¾ê¸°
2. ê·¸ë“¤ì´ ì¢‹ì•„í•œ ì˜í™” ì¶”ì²œ

ì˜ˆì‹œ:
- ì‚¬ìš©ì A: ì•¡ì…˜ ì˜í™” ì„ í˜¸
- ì‚¬ìš©ì B: ì•¡ì…˜ ì˜í™” ì„ í˜¸ (Aì™€ ìœ ì‚¬)
- Bê°€ ì¢‹ì•„í•œ ì˜í™” â†’ Aì—ê²Œ ì¶”ì²œ
```

**2) Item-based CF (ì•„ì´í…œ ê¸°ë°˜)** â† **ë³¸ í”„ë¡œì íŠ¸ ì ìš©**
```
1. ë‚´ê°€ ì¢‹ì•„í•œ ì˜í™”ì™€ ë¹„ìŠ·í•œ ì˜í™” ì°¾ê¸°
2. ë¹„ìŠ·í•œ ì˜í™” ì¶”ì²œ

ì˜ˆì‹œ:
- ì‚¬ìš©ìê°€ "Toy Story" ì¢‹ì•„í•¨
- "Toy Story"ì™€ ë¹„ìŠ·í•œ ì˜í™”: "Finding Nemo"
- "Finding Nemo" ì¶”ì²œ
```

**ì¥ì :**
- ìƒˆë¡œìš´ íŒ¨í„´ ë°œê²¬ ê°€ëŠ¥ (ëœ»ë°–ì˜ ì¶”ì²œ)
- ë„ë©”ì¸ ì§€ì‹ ë¶ˆí•„ìš”

**ë‹¨ì :**
- Cold Start ë¬¸ì œ (ì‹ ê·œ ì‚¬ìš©ì/ì•„ì´í…œ)
- í¬ì†Œì„± ë¬¸ì œ (ë°ì´í„° ë¶€ì¡± ì‹œ ì •í™•ë„ í•˜ë½)

#### 4.2.2 ì½˜í…ì¸  ê¸°ë°˜ í•„í„°ë§ (Content-based Filtering)

**ì›ë¦¬:** "ë‹¹ì‹ ì´ ì¢‹ì•„í•œ ê²ƒê³¼ ë¹„ìŠ·í•œ ì†ì„±ì„ ê°€ì§„ ì•„ì´í…œ ì¶”ì²œ"

**ë³¸ í”„ë¡œì íŠ¸ ì˜ˆì‹œ:**
```
ì‚¬ìš©ìê°€ ì¢‹ì•„í•œ ì˜í™”: "Spider-Man" (Action, Adventure)
â†’ ì¥ë¥´ê°€ ë¹„ìŠ·í•œ ì˜í™” ì¶”ì²œ: "Batman" (Action, Adventure)
```

**ì¥ì :**
- Cold Start ë¬¸ì œ í•´ê²° (ë©”íƒ€ë°ì´í„°ë§Œ ìˆìœ¼ë©´ ë¨)
- ì„¤ëª… ê°€ëŠ¥ì„± (ì™œ ì¶”ì²œí–ˆëŠ”ì§€ ì„¤ëª… ê°€ëŠ¥)

**ë‹¨ì :**
- ë‹¤ì–‘ì„± ë¶€ì¡± (ë¹„ìŠ·í•œ ê²ƒë§Œ ì¶”ì²œ)
- ë„ë©”ì¸ ì§€ì‹ í•„ìš” (ì–´ë–¤ ì†ì„±ì´ ì¤‘ìš”í•œì§€)

#### 4.2.3 í•˜ì´ë¸Œë¦¬ë“œ (Hybrid)

**ì›ë¦¬:** ì—¬ëŸ¬ ë°©ë²•ì„ ì¡°í•©í•˜ì—¬ ë‹¨ì  ë³´ì™„

**ë³¸ í”„ë¡œì íŠ¸ ì „ëµ:**
```
1. ì¥ë¥´ ê¸°ë°˜ ì¶”ì²œ (40%)
2. í˜‘ì—… í•„í„°ë§ ì¶”ì²œ (60%)
â†’ ê°€ì¤‘ í‰ê· ìœ¼ë¡œ ìµœì¢… ì ìˆ˜ ê³„ì‚°
```

---

## 5. 5ê°€ì§€ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ìƒì„¸

### 5.1 ì¸ê¸°ë„ ê¸°ë°˜ (Popularity-based)

#### 5.1.1 ê°œë…

**"ëª¨ë‘ê°€ ì¢‹ì•„í•˜ëŠ” ê²ƒì„ ì¶”ì²œ"**

ê°€ì¥ ë‹¨ìˆœí•˜ì§€ë§Œ íš¨ê³¼ì ì¸ ë°©ë²•. ê°œì¸í™”ëŠ” ì—†ì§€ë§Œ Cold Startì— ê°•í•¨.

#### 5.1.2 ë² ì´ì§€ì•ˆ ê°€ì¤‘ í‰ì  (Bayesian Weighted Rating)

**ë¬¸ì œ:** ë‹¨ìˆœ í‰ê· ì€ í‰ì  ìˆ˜ë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠìŒ

```
ì˜í™” A: í‰ê·  5.0ì  (í‰ì  3ê°œ) â† ê³¼ëŒ€í‰ê°€ ìœ„í—˜
ì˜í™” B: í‰ê·  4.8ì  (í‰ì  1,000ê°œ) â† ì‹ ë¢°ë„ ë†’ìŒ
```

**í•´ê²°:** IMDB Top 250 ë°©ì‹ ì‚¬ìš©

**ê³µì‹:**
```
WR = (v / (v + m)) Ã— R + (m / (v + m)) Ã— C

ì—¬ê¸°ì„œ:
- WR: Weighted Rating (ê°€ì¤‘ í‰ì )
- v: í•´ë‹¹ ì˜í™”ì˜ í‰ì  ìˆ˜
- m: ìµœì†Œ í•„ìš” í‰ì  ìˆ˜ (threshold, ë³¸ í”„ë¡œì íŠ¸ëŠ” 30)
- R: í•´ë‹¹ ì˜í™”ì˜ í‰ê·  í‰ì 
- C: ì „ì²´ ì˜í™”ì˜ í‰ê·  í‰ì  (3.6ì )
```

**ì˜ˆì‹œ ê³„ì‚°:**

```
ì „ì²´ í‰ê·  (C) = 3.6ì 
ìµœì†Œ ê¸°ì¤€ (m) = 30ê°œ

[ì˜í™” A]
- í‰ì  ìˆ˜ (v) = 5ê°œ
- í‰ê·  í‰ì  (R) = 5.0ì 

WR = (5/(5+30)) Ã— 5.0 + (30/(5+30)) Ã— 3.6
   = (5/35) Ã— 5.0 + (30/35) Ã— 3.6
   = 0.714 + 3.086
   = 3.8ì   â† 5.0ì ì—ì„œ í•˜ë½ (ì‹ ë¢°ë„ ë‚®ìŒ)

[ì˜í™” B]
- í‰ì  ìˆ˜ (v) = 1000ê°œ
- í‰ê·  í‰ì  (R) = 4.8ì 

WR = (1000/(1000+30)) Ã— 4.8 + (30/(1000+30)) Ã— 3.6
   = (1000/1030) Ã— 4.8 + (30/1030) Ã— 3.6
   = 4.659 + 0.105
   = 4.76ì   â† 4.8ì ê³¼ ë¹„ìŠ· (ì‹ ë¢°ë„ ë†’ìŒ)
```

**í•´ì„:**
- í‰ì ì´ ì ìœ¼ë©´ ì „ì²´ í‰ê· (C)ìœ¼ë¡œ ë‹¹ê²¨ì§ â†’ ë³´ìˆ˜ì 
- í‰ì ì´ ë§ìœ¼ë©´ ì‹¤ì œ í‰ê· (R) ë°˜ì˜ â†’ ì‹ ë¢°ë„ ë†’ìŒ

#### 5.1.3 SQL ì¿¼ë¦¬ êµ¬ì¡°

```sql
WITH popular_movies AS (
    SELECT
        m.movie_id,
        m.title,
        COUNT(r.rating_id) as rating_count,
        AVG(r.rating) as avg_rating,
        -- ë² ì´ì§€ì•ˆ ê°€ì¤‘ í‰ì 
        (COUNT(r.rating_id)::FLOAT / (COUNT(r.rating_id) + 30)) * AVG(r.rating) +
        (30::FLOAT / (COUNT(r.rating_id) + 30)) * (SELECT AVG(rating) FROM ratings_train)
        as weighted_rating
    FROM movies m
    INNER JOIN ratings_train r ON m.movie_id = r.movie_id
    GROUP BY m.movie_id, m.title
    HAVING COUNT(r.rating_id) >= 30  -- ìµœì†Œ 30ê°œ í‰ì  í•„ìš”
)
SELECT *
FROM popular_movies
ORDER BY weighted_rating DESC
LIMIT 10;
```

#### 5.1.4 ì„±ëŠ¥ ì§€í‘œ

- **Hit Rate@10**: 0.7298
- **Precision@10**: 0.1294
- **Recall@10**: 0.3223
- **í‰ê·  ì²˜ë¦¬ ì‹œê°„**: ~5ms (ë§¤ìš° ë¹ ë¦„)

**í•´ì„:**
- Hit Rateê°€ ë†’ìŒ â†’ ìµœì†Œ 1ê°œëŠ” ë§ì¶¤ (ì•ˆì •ì )
- Precision/Recallì€ ë‚®ìŒ â†’ ê°œì¸í™” ë¶€ì¡±
- ì²˜ë¦¬ ì‹œê°„ì´ ì§§ìŒ â†’ ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤ ê°€ëŠ¥

---

### 5.2 ì¥ë¥´ ê¸°ë°˜ (Genre-based)

#### 5.2.1 ê°œë…

**"ë‹¹ì‹ ì´ ì¢‹ì•„í•˜ëŠ” ì¥ë¥´ì˜ ì¸ê¸° ì˜í™”ë¥¼ ì¶”ì²œ"**

ì‚¬ìš©ìì˜ ê³¼ê±° í‰ì ì—ì„œ ì„ í˜¸ ì¥ë¥´ë¥¼ ë¶„ì„ â†’ í•´ë‹¹ ì¥ë¥´ì˜ ìš°ìˆ˜ ì˜í™” ì¶”ì²œ

#### 5.2.2 ì¶”ì²œ í”„ë¡œì„¸ìŠ¤ (4ë‹¨ê³„ CTE)

**CTEë€?**
Common Table Expression - SQLì—ì„œ ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ë‹¨ê³„ë³„ë¡œ ë‚˜ëˆ  ì‘ì„±í•˜ëŠ” ê¸°ë²•

**Stage 1: ì‚¬ìš©ì ì„ í˜¸ ì¥ë¥´ ë¶„ì„**

```sql
WITH user_genre_preference AS (
    SELECT
        g.genre_id,
        g.genre_name,
        COUNT(r.rating_id) as rating_count,  -- í•´ë‹¹ ì¥ë¥´ í‰ì  ê°œìˆ˜
        AVG(r.rating) as avg_rating,         -- í•´ë‹¹ ì¥ë¥´ í‰ê·  í‰ì 
        COUNT(r.rating_id) * AVG(r.rating) as preference_score  -- ì„ í˜¸ë„ ì ìˆ˜
    FROM ratings_train r
    INNER JOIN movie_genres mg ON r.movie_id = mg.movie_id
    INNER JOIN genres g ON mg.genre_id = g.genre_id
    WHERE r.user_id = 1  -- ì‚¬ìš©ì ID
    GROUP BY g.genre_id, g.genre_name
    HAVING COUNT(r.rating_id) >= 3  -- ìµœì†Œ 3ê°œ í‰ì  í•„ìš”
    ORDER BY preference_score DESC
    LIMIT 3  -- ìƒìœ„ 3ê°œ ì¥ë¥´
)
```

**ì˜ˆì‹œ ê²°ê³¼:**
```
genre_name | rating_count | avg_rating | preference_score
-----------|--------------|------------|------------------
Action     | 50           | 4.2        | 210.0
Sci-Fi     | 30           | 4.5        | 135.0
Drama      | 40           | 3.0        | 120.0
```

**í•´ì„:**
â†’ ì‚¬ìš©ìëŠ” Action, Sci-Fi, Drama ì„ í˜¸ (ìˆœì„œëŒ€ë¡œ)

**Stage 2: ì´ë¯¸ ë³¸ ì˜í™” í•„í„°ë§**

```sql
user_watched AS (
    SELECT movie_id
    FROM ratings_train
    WHERE user_id = 1
)
```

**Stage 3: ì„ í˜¸ ì¥ë¥´ ì˜í™” ì¶”ì¶œ**

```sql
genre_movies AS (
    SELECT DISTINCT
        m.movie_id,
        m.title,
        ugp.genre_name,
        ugp.preference_score as genre_preference
    FROM movies m
    INNER JOIN movie_genres mg ON m.movie_id = mg.movie_id
    INNER JOIN user_genre_preference ugp ON mg.genre_id = ugp.genre_id
    WHERE m.movie_id NOT IN (SELECT movie_id FROM user_watched)  -- ë¯¸ì‹œì²­ë§Œ
)
```

**Stage 4: ìµœì¢… ì ìˆ˜ ê³„ì‚°**

```sql
movie_stats AS (
    SELECT
        gm.movie_id,
        gm.title,
        gm.genre_name,
        COUNT(r.rating_id) as rating_count,
        AVG(r.rating) as avg_rating,
        -- ë² ì´ì§€ì•ˆ ê°€ì¤‘ í‰ì 
        (COUNT(r.rating_id)::FLOAT / (COUNT(r.rating_id) + 20)) * AVG(r.rating) +
        (20::FLOAT / (COUNT(r.rating_id) + 20)) * (SELECT AVG(rating) FROM ratings_train)
        as weighted_rating,
        -- ì¥ë¥´ ì„ í˜¸ë„ ê²°í•©
        weighted_rating * (gm.genre_preference / 100.0) as combined_score
    FROM genre_movies gm
    INNER JOIN ratings_train r ON gm.movie_id = r.movie_id
    GROUP BY gm.movie_id, gm.title, gm.genre_name, gm.genre_preference
    HAVING COUNT(r.rating_id) >= 20  -- ìµœì†Œ 20ê°œ í‰ì 
)
SELECT * FROM movie_stats
ORDER BY combined_score DESC
LIMIT 10;
```

#### 5.2.3 ì„ í˜¸ë„ ì ìˆ˜ ê³„ì‚°

**Preference Score = í‰ì  ê°œìˆ˜ Ã— í‰ê·  í‰ì **

**ì™œ ê³±ì…ˆì¸ê°€?**
- ë‹¨ìˆœ í‰ê· : 1ê°œ í‰ì ë§Œìœ¼ë¡œë„ ë†’ì€ ì ìˆ˜ ê°€ëŠ¥ (ë¶ˆì•ˆì •)
- í‰ì  ê°œìˆ˜ë§Œ: ë‚®ì€ í‰ì ë„ ë§ìœ¼ë©´ ë†’ì€ ì ìˆ˜ (ë¶€ì •í™•)
- **ê³±ì…ˆ**: ë‘˜ ë‹¤ ì¶©ì¡±í•´ì•¼ ë†’ì€ ì ìˆ˜ (ê· í˜•)

**ì˜ˆì‹œ:**
```
ì¥ë¥´ A: í‰ì  50ê°œ Ã— í‰ê·  4.2 = 210ì 
ì¥ë¥´ B: í‰ì  30ê°œ Ã— í‰ê·  4.5 = 135ì 
ì¥ë¥´ C: í‰ì  100ê°œ Ã— í‰ê·  2.0 = 200ì 

â†’ Aê°€ 1ìœ„ (ì–‘ì ìœ¼ë¡œ ë§ê³ , ì§ˆì ìœ¼ë¡œ ìš°ìˆ˜)
```

#### 5.2.4 ì„±ëŠ¥ ì§€í‘œ

- **Hit Rate@10**: 0.8642
- **Precision@10**: 0.1535
- **Recall@10**: 0.3854
- **í‰ê·  ì²˜ë¦¬ ì‹œê°„**: ~80ms

**í•´ì„:**
- ì¸ê¸°ë„ë³´ë‹¤ ëª¨ë“  ì§€í‘œ í–¥ìƒ â†’ ê°œì¸í™” íš¨ê³¼
- ì²˜ë¦¬ ì‹œê°„ ì¦ê°€ (5ms â†’ 80ms) â†’ ë³µì¡ë„ ìƒìŠ¹

---

### 5.3 í˜‘ì—… í•„í„°ë§ (Item-based Collaborative Filtering)

#### 5.3.1 ì½”ì‚¬ì¸ ìœ ì‚¬ë„ (Cosine Similarity)

**ê°œë…:**
ë‘ ë²¡í„° ê°„ì˜ ê°ë„ë¥¼ ì¸¡ì •í•˜ì—¬ ìœ ì‚¬ë„ ê³„ì‚° (0~1 ì‚¬ì´ ê°’)

**ê¸°í•˜í•™ì  ì´í•´:**

```
        ì˜í™”A
         â†‘
         |  Î¸ (ê°ë„)
         | /
         |/
    -----+----â†’ ì˜í™”B
         ì›ì 

cos(Î¸) = 1  â†’ ì™„ì „ ë™ì¼ (0ë„)
cos(Î¸) = 0  â†’ ë¬´ê´€í•¨ (90ë„)
cos(Î¸) = -1 â†’ ì™„ì „ ë°˜ëŒ€ (180ë„)
```

**ê³µì‹:**

```
         A Â· B
cos(Î¸) = -------
         |A| |B|

ì—¬ê¸°ì„œ:
- A Â· B: ë‚´ì  (dot product)
- |A|, |B|: ë²¡í„° í¬ê¸° (magnitude)
```

**ì˜í™” ì¶”ì²œì— ì ìš©:**

```
ì‚¬ìš©ìë“¤ì˜ í‰ì ì„ ë²¡í„°ë¡œ í‘œí˜„:

              User1  User2  User3  User4  User5
ì˜í™” "Toy Story"   5      4      -      3      5
ì˜í™” "Jurassic"    4      5      3      -      4

"-"ëŠ” í‰ì  ì—†ìŒ (ë¯¸ì‹œì²­)
```

**ê³„ì‚° ê³¼ì •:**

```sql
-- PostgreSQL ì¿¼ë¦¬ë¡œ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê³„ì‚°
SELECT
    m1.movie_id as movie1_id,
    m2.movie_id as movie2_id,
    -- ë‚´ì  (ê³µí†µ ì‚¬ìš©ìì˜ í‰ì  ê³±ì˜ í•©)
    SUM(r1.rating * r2.rating) as dot_product,
    -- ë²¡í„° í¬ê¸°
    SQRT(SUM(r1.rating * r1.rating)) as magnitude1,
    SQRT(SUM(r2.rating * r2.rating)) as magnitude2,
    -- ì½”ì‚¬ì¸ ìœ ì‚¬ë„
    SUM(r1.rating * r2.rating) /
    (SQRT(SUM(r1.rating * r1.rating)) * SQRT(SUM(r2.rating * r2.rating)))
    as cosine_similarity,
    -- ê³µí†µ ì‚¬ìš©ì ìˆ˜
    COUNT(*) as common_users
FROM ratings_train r1
INNER JOIN ratings_train r2 ON r1.user_id = r2.user_id  -- ê°™ì€ ì‚¬ìš©ì
WHERE r1.movie_id = 1  -- Toy Story
  AND r2.movie_id != 1  -- Toy Story ì œì™¸
GROUP BY m1.movie_id, m2.movie_id
HAVING COUNT(*) >= 5  -- ìµœì†Œ 5ëª…ì˜ ê³µí†µ ì‚¬ìš©ì
ORDER BY cosine_similarity DESC
LIMIT 10;
```

#### 5.3.2 ìµœì†Œ ê³µí†µ ì‚¬ìš©ì ìˆ˜ (min_common_users)

**ì™œ í•„ìš”í•œê°€?**

```
ì˜ˆì‹œ:
- ì˜í™” Aì™€ B: ê³µí†µ ì‚¬ìš©ì 2ëª… â†’ ìœ ì‚¬ë„ 0.99 (ìš°ì—°ì¼ ê°€ëŠ¥ì„±)
- ì˜í™” Aì™€ C: ê³µí†µ ì‚¬ìš©ì 100ëª… â†’ ìœ ì‚¬ë„ 0.95 (ì‹ ë¢°ë„ ë†’ìŒ)
```

**í†µê³„ì  ì‹ ë¢°ë„:**
- ìƒ˜í”Œ í¬ê¸°ê°€ í´ìˆ˜ë¡ ì‹ ë¢° êµ¬ê°„ ì¢ì•„ì§
- ë³¸ í”„ë¡œì íŠ¸: **min_common_users = 5** ì„¤ì •

#### 5.3.3 ì¶”ì²œ í”„ë¡œì„¸ìŠ¤

**Step 1: ì‚¬ìš©ìê°€ ì¢‹ì•„í•œ ì˜í™” ì°¾ê¸°**

```sql
WITH user_liked_movies AS (
    SELECT movie_id, rating
    FROM ratings_train
    WHERE user_id = 1
      AND rating >= 4.0  -- 4ì  ì´ìƒë§Œ (ì¢‹ì•„í•œ ì˜í™”)
)
```

**Step 2: ìœ ì‚¬ ì˜í™” ì°¾ê¸°**

```sql
similar_movies AS (
    SELECT
        ulm.movie_id as source_movie_id,
        ulm.rating as user_rating,
        s.target_movie_id,
        s.similarity_score
    FROM user_liked_movies ulm
    INNER JOIN movie_similarities s ON ulm.movie_id = s.movie_id
    WHERE s.target_movie_id NOT IN (SELECT movie_id FROM user_watched)
)
```

**Step 3: ì˜ˆì¸¡ í‰ì  ê³„ì‚°**

```sql
SELECT
    target_movie_id,
    SUM(user_rating * similarity_score) / SUM(similarity_score) as predicted_rating,
    COUNT(*) as source_count
FROM similar_movies
GROUP BY target_movie_id
HAVING COUNT(*) >= 2  -- ìµœì†Œ 2ê°œ ì˜í™” ê¸°ë°˜
ORDER BY predicted_rating DESC
LIMIT 10;
```

**ì˜ˆì‹œ ê³„ì‚°:**

```
ì‚¬ìš©ìê°€ ì¢‹ì•„í•œ ì˜í™”:
- Toy Story (í‰ì  5.0)
- Finding Nemo (í‰ì  4.5)

í›„ë³´ ì˜í™”: "Monsters, Inc."

ìœ ì‚¬ë„:
- Toy Story â†” Monsters, Inc.: 0.92
- Finding Nemo â†” Monsters, Inc.: 0.88

ì˜ˆì¸¡ í‰ì  ê³„ì‚°:
predicted_rating = (5.0 Ã— 0.92 + 4.5 Ã— 0.88) / (0.92 + 0.88)
                 = (4.6 + 3.96) / 1.8
                 = 4.76ì 

â†’ ì‚¬ìš©ìê°€ Monsters, Inc.ë¥¼ ì¢‹ì•„í•  í™•ë¥  ë†’ìŒ
```

#### 5.3.4 ë°°ì¹˜ ìµœì í™”

**ë¬¸ì œ:** 500ê°œ ì˜í™” ê°„ ìœ ì‚¬ë„ ê³„ì‚°

```
ì¡°í•©ì˜ ìˆ˜ = C(500, 2) = 500 Ã— 499 / 2 = 124,750 ìŒ
```

**ë¹„íš¨ìœ¨ì  ë°©ì‹:**
```python
# 124,750ë²ˆì˜ ê°œë³„ SQL ì¿¼ë¦¬
for movie1 in movies:
    for movie2 in movies:
        calculate_similarity(movie1, movie2)

â†’ ì˜ˆìƒ ì‹œê°„: 10-20ë¶„
```

**ìµœì í™” ë°©ì‹:**
```sql
-- ë‹¨ì¼ SQL ì¿¼ë¦¬ë¡œ ëª¨ë“  ìŒ ê³„ì‚°
SELECT
    r1.movie_id as movie1_id,
    r2.movie_id as movie2_id,
    -- ì½”ì‚¬ì¸ ìœ ì‚¬ë„
    SUM(r1.rating * r2.rating) /
    (SQRT(SUM(r1.rating * r1.rating)) * SQRT(SUM(r2.rating * r2.rating)))
    as cosine_similarity,
    COUNT(*) as common_users
FROM ratings_train r1
CROSS JOIN ratings_train r2  -- ëª¨ë“  ì¡°í•© ìƒì„±
WHERE r1.movie_id < r2.movie_id  -- ì¤‘ë³µ ì œê±°
  AND r1.user_id = r2.user_id    -- ê°™ì€ ì‚¬ìš©ì
GROUP BY r1.movie_id, r2.movie_id
HAVING COUNT(*) >= 5;

â†’ ì‹¤ì œ ì‹œê°„: 0.6ì´ˆ
â†’ ê°œì„ ìœ¨: ì•½ 2,000ë°°
```

**í•µì‹¬:**
- Databaseì˜ ì§‘í•© ì—°ì‚° í™œìš©
- ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ ì œê±° (1ë²ˆì˜ í†µì‹ )
- PostgreSQLì˜ ìµœì í™”ëœ ì§‘ê³„ í•¨ìˆ˜ ì‚¬ìš©

#### 5.3.5 ì„±ëŠ¥ ì§€í‘œ

- **Hit Rate@10**: 0.8795
- **Precision@10**: 0.1563
- **Recall@10**: 0.3916
- **í‰ê·  ì²˜ë¦¬ ì‹œê°„**: ~150ms

**í•´ì„:**
- ê°€ì¥ ë†’ì€ ì •í™•ë„ (Precision/Recall)
- ì²˜ë¦¬ ì‹œê°„ ì¦ê°€ â†’ ìœ ì‚¬ë„ ê³„ì‚° ë¹„ìš©

---

### 5.4 ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ (SVD - Singular Value Decomposition)

#### 5.4.1 í–‰ë ¬ ë¶„í•´ë€?

**ê°œë…:**
í° í–‰ë ¬ì„ ì‘ì€ í–‰ë ¬ë“¤ì˜ ê³±ìœ¼ë¡œ ë¶„í•´í•˜ì—¬ íŒ¨í„´ ì¶”ì¶œ

**ì¼ìƒ ì˜ˆì‹œ:**
```
ë³µì¡í•œ ì‚¬ì§„ = ë¹¨ê°• ì„±ë¶„ Ã— ë¹¨ê°• ê°•ë„ +
              ì´ˆë¡ ì„±ë¶„ Ã— ì´ˆë¡ ê°•ë„ +
              íŒŒë‘ ì„±ë¶„ Ã— íŒŒë‘ ê°•ë„

â†’ 3ê°œ ì„±ë¶„ìœ¼ë¡œ ëª¨ë“  ìƒ‰ í‘œí˜„ ê°€ëŠ¥
```

**ì˜í™” ì¶”ì²œì— ì ìš©:**
```
í‰ì  í–‰ë ¬ = ì‚¬ìš©ì ì ì¬ ìš”ì¸ Ã— ì˜í™” ì ì¬ ìš”ì¸

ì˜ˆì‹œ ì ì¬ ìš”ì¸:
- Factor 1: "ì•¡ì…˜ ì„ í˜¸ë„"
- Factor 2: "ë¡œë§¨ìŠ¤ ì„ í˜¸ë„"
- Factor 3: "ì½”ë¯¸ë”” ì„ í˜¸ë„"
...
```

#### 5.4.2 SVD ìˆ˜í•™

**ê¸°ë³¸ ê³µì‹:**

```
R â‰ˆ U Ã— Î£ Ã— V^T

ì—¬ê¸°ì„œ:
- R: í‰ì  í–‰ë ¬ (6,040 users Ã— 3,883 movies)
- U: ì‚¬ìš©ì ì ì¬ ìš”ì¸ í–‰ë ¬ (6,040 Ã— k)
- Î£: íŠ¹ì´ê°’ ëŒ€ê° í–‰ë ¬ (k Ã— k)
- V^T: ì˜í™” ì ì¬ ìš”ì¸ í–‰ë ¬ (k Ã— 3,883)
- k: ì ì¬ ìš”ì¸ ê°œìˆ˜ (ë³¸ í”„ë¡œì íŠ¸: 50)
```

**ì‹œê°ì  ì´í•´:**

```
ì›ë³¸ í–‰ë ¬ (6,040 Ã— 3,883)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1  5  ?  3  2  â”‚
â”‚  4  ?  2  5  ?  â”‚
â”‚  ?  3  4  ?  1  â”‚
â”‚  5  4  ?  2  3  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    ? = ë¯¸í‰ê°€

     â†“ SVD ë¶„í•´ â†“

ì‚¬ìš©ì ìš”ì¸ (6,040 Ã— 50)   íŠ¹ì´ê°’ (50 Ã— 50)   ì˜í™” ìš”ì¸ (50 Ã— 3,883)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 0.8 0.1  â”‚              â”‚15 0  â”‚            â”‚ 0.6 0.7 0.1  â”‚
â”‚ 0.2 0.9  â”‚       Ã—      â”‚0  12 â”‚      Ã—     â”‚ 0.1 0.2 0.8  â”‚
â”‚ 0.5 0.4  â”‚              â”‚ ... â”‚            â”‚  ...         â”‚
â”‚ ...      â”‚              â””â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â†“ í–‰ë ¬ ê³± â†“

ë³µì› í–‰ë ¬ (6,040 Ã— 3,883)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1  5  3.2 3  2 â”‚  â† 3.2ëŠ” ì˜ˆì¸¡ê°’
â”‚  4  3.8 2  5 4.1â”‚
â”‚ 2.9 3  4  3.5 1 â”‚
â”‚  5  4  4.3 2  3 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.4.3 ì ì¬ ìš”ì¸ í•´ì„

**Factor 1 ì˜ˆì‹œ:**
```
ë†’ì€ ê°’ì„ ê°€ì§„ ì˜í™”ë“¤:
- The Matrix
- Terminator 2
- Die Hard

â†’ "ì•¡ì…˜/SF ìš”ì¸"
```

**Factor 2 ì˜ˆì‹œ:**
```
ë†’ì€ ê°’ì„ ê°€ì§„ ì˜í™”ë“¤:
- Titanic
- The Notebook
- Pretty Woman

â†’ "ë¡œë§¨ìŠ¤ ìš”ì¸"
```

**ì‚¬ìš©ì ë²¡í„° ì˜ˆì‹œ:**
```
User A: [0.9, 0.1, 0.3, ...]
â†’ Factor 1 ë†’ìŒ â†’ ì•¡ì…˜/SF ì„ í˜¸

User B: [0.2, 0.8, 0.5, ...]
â†’ Factor 2 ë†’ìŒ â†’ ë¡œë§¨ìŠ¤ ì„ í˜¸
```

#### 5.4.4 í•™ìŠµ ê³¼ì •

**Step 1: í‰ì  í–‰ë ¬ ìƒì„± (Sparse Matrix)**

```python
from scipy.sparse import csr_matrix

# ì‚¬ìš©ì ID, ì˜í™” ID â†’ í–‰ë ¬ ì¸ë±ìŠ¤ ë§¤í•‘
user_idx = [0, 0, 1, 1, 2]
movie_idx = [0, 5, 3, 10, 2]
ratings = [5.0, 4.0, 3.5, 4.5, 3.0]

# CSR (Compressed Sparse Row) í˜•ì‹ìœ¼ë¡œ ì €ì¥
rating_matrix = csr_matrix(
    (ratings, (user_idx, movie_idx)),
    shape=(6040, 3883)
)

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
# Dense: 6,040 Ã— 3,883 Ã— 8 bytes = 187 MB
# Sparse: 1,000,209 Ã— 12 bytes = 12 MB (ì•½ 15ë°° ì ˆê°)
```

**Step 2: í‰ì  ì •ê·œí™”**

```python
# ì „ì²´ í‰ê·  ê³„ì‚°
global_mean = rating_matrix.data.mean()  # 3.6ì 

# í‰ê· ì„ ë¹¼ì„œ ì¤‘ì‹¬í™” (centering)
centered_matrix = rating_matrix.copy()
centered_matrix.data -= global_mean

# ì™œ ì¤‘ì‹¬í™”?
# - SVDëŠ” 0ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„í•´
# - ê¸ì •/ë¶€ì • í¸í–¥ ì œê±°
```

**Step 3: SVD ìˆ˜í–‰**

```python
from scipy.sparse.linalg import svds

# Truncated SVD (ìƒìœ„ kê°œë§Œ ê³„ì‚°)
U, s, Vt = svds(centered_matrix, k=50)

# ê²°ê³¼:
# U: (6040, 50) - ì‚¬ìš©ì ì ì¬ ìš”ì¸
# s: (50,) - íŠ¹ì´ê°’ (ì¤‘ìš”ë„)
# Vt: (50, 3883) - ì˜í™” ì ì¬ ìš”ì¸
```

**Step 4: ì˜ˆì¸¡**

```python
def predict(user_id, movie_id):
    # ì‚¬ìš©ì ë²¡í„°
    user_vec = U[user_idx, :]  # shape: (50,)

    # ì˜í™” ë²¡í„°
    movie_vec = Vt[:, movie_idx]  # shape: (50,)

    # ë‚´ì  + íŠ¹ì´ê°’ ì ìš©
    prediction = global_mean + np.dot(user_vec * s, movie_vec)

    # 1-5 ë²”ìœ„ë¡œ ì œí•œ
    prediction = np.clip(prediction, 1.0, 5.0)

    return prediction

# ì˜ˆì‹œ
predict(user_id=1, movie_id=1193)  # â†’ 4.73ì 
```

#### 5.4.5 k(ì ì¬ ìš”ì¸ ìˆ˜) ì„ íƒ

**Trade-off:**

```
kê°€ ì‘ì„ ë•Œ (ì˜ˆ: k=10):
- ì¥ì : ë¹ ë¥¸ ê³„ì‚°, ì¼ë°˜í™” ì„±ëŠ¥ ì¢‹ìŒ
- ë‹¨ì : ì„¸ë¶€ íŒ¨í„´ í¬ì°© ë¶€ì¡±

kê°€ í´ ë•Œ (ì˜ˆ: k=100):
- ì¥ì : ì„¸ë¶€ íŒ¨í„´ í¬ì°©
- ë‹¨ì : ê³¼ì í•© ìœ„í—˜, ê³„ì‚° ëŠë¦¼

ë³¸ í”„ë¡œì íŠ¸: k=50 (ì‹¤í—˜ì  ìµœì ê°’)
```

#### 5.4.6 numpy ë²„ì „ í˜¸í™˜ì„± ë¬¸ì œ

**ë¬¸ì œ ë°œìƒ:**
```
ModuleNotFoundError: No module named 'numpy._core.numeric'
```

**ì›ì¸:**
- ëª¨ë¸ í•™ìŠµ: numpy 2.3.5 (ìµœì‹  ë²„ì „)
- ë°°í¬ í™˜ê²½: numpy 1.26.4 (Streamlit Cloud ì§€ì›)
- pickleë¡œ ì €ì¥ëœ ëª¨ë¸ì˜ ë‚´ë¶€ êµ¬ì¡° ë¶ˆì¼ì¹˜

**í•´ê²°:**
```python
# requirements.txt
numpy>=1.26.0,<2.0.0  # 1.x ë²„ì „ìœ¼ë¡œ ê³ ì •

# ëª¨ë¸ ì¬í•™ìŠµ
python src/recommenders/ml_based.py
```

**êµí›ˆ:**
- ì¬í˜„ ê°€ëŠ¥í•œ í™˜ê²½ ì¤‘ìš” (reproducibility)
- ë²„ì „ ê´€ë¦¬ í•„ìˆ˜

#### 5.4.7 ì„±ëŠ¥ ì§€í‘œ

- **Hit Rate@10**: 0.8876
- **Precision@10**: 0.1577
- **Recall@10**: 0.3956
- **í‰ê·  ì²˜ë¦¬ ì‹œê°„**: ~200ms

**í•´ì„:**
- ê°€ì¥ ë†’ì€ Recall â†’ ë” ë§ì€ ê´€ë ¨ ì˜í™” ì°¾ìŒ
- ì²˜ë¦¬ ì‹œê°„ ì¦ê°€ â†’ í–‰ë ¬ ê³±ì…ˆ ë¹„ìš©

---

### 5.5 í•˜ì´ë¸Œë¦¬ë“œ (Hybrid)

#### 5.5.1 ê°œë…

**"ì—¬ëŸ¬ ì•Œê³ ë¦¬ì¦˜ì˜ ì¥ì ì„ ê²°í•©"**

```
ë‹¨ì¼ ì•Œê³ ë¦¬ì¦˜ì˜ í•œê³„:
- ì¥ë¥´ ê¸°ë°˜: ë‹¤ì–‘ì„± ë¶€ì¡± (ë¹„ìŠ·í•œ ì¥ë¥´ë§Œ)
- í˜‘ì—… í•„í„°ë§: Cold Start ì•½í•¨
- ML: ì„¤ëª… ê°€ëŠ¥ì„± ë‚®ìŒ

â†’ ì¡°í•©ìœ¼ë¡œ ë‹¨ì  ë³´ì™„
```

#### 5.5.2 ê°€ì¤‘ í‰ê·  (Weighted Average)

**ê³µì‹:**

```
ìµœì¢… ì ìˆ˜ = w1 Ã— ì¥ë¥´_ì ìˆ˜ + w2 Ã— í˜‘ì—…í•„í„°ë§_ì ìˆ˜

ë³¸ í”„ë¡œì íŠ¸:
w1 = 0.4 (40%)
w2 = 0.6 (60%)
```

**ì˜ˆì‹œ ê³„ì‚°:**

```
ì˜í™” "Inception":

ì¥ë¥´ ê¸°ë°˜ ì¶”ì²œ:
- ì‚¬ìš©ì ì„ í˜¸ ì¥ë¥´: Sci-Fi, Action
- Inception ì¥ë¥´: Sci-Fi, Action, Thriller
- ì ìˆ˜: 8.5 (10ì  ë§Œì )

í˜‘ì—… í•„í„°ë§:
- ìœ ì‚¬ ì˜í™”ë“¤: Matrix, Interstellar
- ì˜ˆì¸¡ í‰ì : 4.7
- ì ìˆ˜: 9.4 (10ì  ë§Œì )

ìµœì¢… ì ìˆ˜ = 0.4 Ã— 8.5 + 0.6 Ã— 9.4
          = 3.4 + 5.64
          = 9.04

â†’ ìƒìœ„ê¶Œ ì¶”ì²œ
```

#### 5.5.3 ì •ê·œí™” (Normalization)

**ë¬¸ì œ:** ì•Œê³ ë¦¬ì¦˜ë§ˆë‹¤ ì ìˆ˜ ë²”ìœ„ê°€ ë‹¤ë¦„

```
ì¥ë¥´ ê¸°ë°˜: 0 ~ 300 (preference_score)
í˜‘ì—… í•„í„°ë§: 1.0 ~ 5.0 (predicted_rating)

â†’ ë‹¨ìˆœ í‰ê·  ë¶ˆê°€ëŠ¥ (ìŠ¤ì¼€ì¼ ì°¨ì´)
```

**í•´ê²°:** Min-Max Scaling

```python
def normalize(score, min_val, max_val):
    """0-10 ë²”ìœ„ë¡œ ì •ê·œí™”"""
    return (score - min_val) / (max_val - min_val) * 10

# ì¥ë¥´ ì ìˆ˜: 210ì  (ë²”ìœ„: 50 ~ 300)
genre_normalized = (210 - 50) / (300 - 50) * 10
                 = 160 / 250 * 10
                 = 6.4

# í˜‘ì—… í•„í„°ë§ ì ìˆ˜: 4.5ì  (ë²”ìœ„: 1.0 ~ 5.0)
cf_normalized = (4.5 - 1.0) / (5.0 - 1.0) * 10
              = 3.5 / 4.0 * 10
              = 8.75

# ìµœì¢… ì ìˆ˜
final = 0.4 Ã— 6.4 + 0.6 Ã— 8.75
      = 2.56 + 5.25
      = 7.81
```

#### 5.5.4 ê°€ì¤‘ì¹˜ ìµœì í™”

**Grid Search ë°©ì‹:**

```python
# ë‹¤ì–‘í•œ ê°€ì¤‘ì¹˜ ì¡°í•© ì‹¤í—˜
for w1 in [0.1, 0.2, 0.3, 0.4, 0.5]:
    w2 = 1 - w1

    # í•˜ì´ë¸Œë¦¬ë“œ ì¶”ì²œ ìƒì„±
    recommendations = hybrid_recommend(w1, w2)

    # í‰ê°€
    hit_rate = evaluate(recommendations)

    print(f"w1={w1}, w2={w2} â†’ Hit Rate: {hit_rate}")

# ê²°ê³¼:
# w1=0.4, w2=0.6 â†’ Hit Rate: 0.8911 (ìµœê³ )
```

#### 5.5.5 ì„±ëŠ¥ ì§€í‘œ

- **Hit Rate@10**: 0.8911 â† **ìµœê³  ì„±ëŠ¥**
- **Precision@10**: 0.1584
- **Recall@10**: 0.3973
- **í‰ê·  ì²˜ë¦¬ ì‹œê°„**: ~230ms

**í•´ì„:**
- ëª¨ë“  ì§€í‘œì—ì„œ ìµœìƒìœ„
- ì²˜ë¦¬ ì‹œê°„ ì¦ê°€ â†’ ë‘ ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰ ë¹„ìš©

---

## 6. í‰ê°€ ë°©ë²•ë¡ 

### 6.1 í‰ê°€ ì§€í‘œ ì´í•´

#### 6.1.1 Hit Rate@K

**ì •ì˜:**
ì¶”ì²œí•œ Kê°œ ì¤‘ **ìµœì†Œ 1ê°œë¼ë„** ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ì¢‹ì•„í•œ ê²½ìš° ì„±ê³µ

**ê³µì‹:**
```
Hit Rate@K = (ì„±ê³µí•œ ì‚¬ìš©ì ìˆ˜) / (ì „ì²´ ì‚¬ìš©ì ìˆ˜)
```

**ì˜ˆì‹œ:**
```
User 1: ì¶”ì²œ [A, B, C, D, E, F, G, H, I, J]
        ì‹¤ì œ ì¢‹ì•„í•¨ [B, X, Y, Z]
        â†’ Hit! (Bê°€ í¬í•¨ë¨)

User 2: ì¶”ì²œ [K, L, M, N, O, P, Q, R, S, T]
        ì‹¤ì œ ì¢‹ì•„í•¨ [U, V, W, X]
        â†’ Miss (í•˜ë‚˜ë„ ì•ˆ ë§ìŒ)

User 3: ì¶”ì²œ [A, B, C, D, E, F, G, H, I, J]
        ì‹¤ì œ ì¢‹ì•„í•¨ [C, F, J]
        â†’ Hit! (3ê°œ ë§ì•˜ì§€ë§Œ 1ê°œë§Œ ë§ì•„ë„ ì„±ê³µ)

Hit Rate@10 = 2 / 3 = 0.667 (66.7%)
```

**ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸:**
- ì‚¬ìš©ì ë§Œì¡±ë„ ì§€í‘œ
- "ì¶”ì²œ ì¤‘ í•˜ë‚˜ë¼ë„ í´ë¦­í–ˆë‚˜?"

#### 6.1.2 Precision@K

**ì •ì˜:**
ì¶”ì²œí•œ Kê°œ ì¤‘ **ì‹¤ì œë¡œ ì¢‹ì•„í•œ ë¹„ìœ¨**

**ê³µì‹:**
```
Precision@K = (ì¶”ì²œ ì¤‘ ë§ì€ ê°œìˆ˜) / K
```

**ì˜ˆì‹œ:**
```
User 1: ì¶”ì²œ 10ê°œ ì¤‘ 2ê°œ ë§ìŒ
        â†’ Precision@10 = 2/10 = 0.20

User 2: ì¶”ì²œ 10ê°œ ì¤‘ 0ê°œ ë§ìŒ
        â†’ Precision@10 = 0/10 = 0.00

User 3: ì¶”ì²œ 10ê°œ ì¤‘ 3ê°œ ë§ìŒ
        â†’ Precision@10 = 3/10 = 0.30

í‰ê·  Precision@10 = (0.20 + 0.00 + 0.30) / 3 = 0.167
```

**ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸:**
- ì¶”ì²œ ì •í™•ë„
- "ì¶”ì²œì´ ì–¼ë§ˆë‚˜ ì •í™•í•œê°€?"

#### 6.1.3 Recall@K

**ì •ì˜:**
**ì‹¤ì œ ì¢‹ì•„í•œ ê²ƒ ì¤‘** ì¶”ì²œì— í¬í•¨ëœ ë¹„ìœ¨

**ê³µì‹:**
```
Recall@K = (ì¶”ì²œ ì¤‘ ë§ì€ ê°œìˆ˜) / (ì‹¤ì œ ì¢‹ì•„í•œ ì´ ê°œìˆ˜)
```

**ì˜ˆì‹œ:**
```
User 1: ì¶”ì²œ 10ê°œ ì¤‘ 2ê°œ ë§ìŒ, ì‹¤ì œë¡œ ì¢‹ì•„í•œ ê²ƒ 5ê°œ
        â†’ Recall@10 = 2/5 = 0.40

User 2: ì¶”ì²œ 10ê°œ ì¤‘ 0ê°œ ë§ìŒ, ì‹¤ì œë¡œ ì¢‹ì•„í•œ ê²ƒ 3ê°œ
        â†’ Recall@10 = 0/3 = 0.00

User 3: ì¶”ì²œ 10ê°œ ì¤‘ 3ê°œ ë§ìŒ, ì‹¤ì œë¡œ ì¢‹ì•„í•œ ê²ƒ 8ê°œ
        â†’ Recall@10 = 3/8 = 0.375

í‰ê·  Recall@10 = (0.40 + 0.00 + 0.375) / 3 = 0.258
```

**ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸:**
- ì»¤ë²„ë¦¬ì§€
- "ì‚¬ìš©ìê°€ ì¢‹ì•„í•  ê²ƒì„ ì–¼ë§ˆë‚˜ ì°¾ì•˜ë‚˜?"

#### 6.1.4 Precision vs Recall

**Trade-off ê´€ê³„:**

```
ë†’ì€ Precision, ë‚®ì€ Recall:
- í™•ì‹¤í•œ ê²ƒë§Œ ì¶”ì²œ
- ì˜ˆ: ì¸ê¸° ì˜í™” ìœ„ì£¼ ì¶”ì²œ
- ì•ˆì „í•˜ì§€ë§Œ ë‹¤ì–‘ì„± ë¶€ì¡±

ë‚®ì€ Precision, ë†’ì€ Recall:
- ë§ì´ ì¶”ì²œí•´ì„œ ì»¤ë²„ë¦¬ì§€ ë†’ì„
- ì˜ˆ: ê´€ë ¨ëœ ëª¨ë“  ì˜í™” ì¶”ì²œ
- ë‹¤ì–‘í•˜ì§€ë§Œ ì •í™•ë„ ë‚®ìŒ

ê· í˜•:
- í•˜ì´ë¸Œë¦¬ë“œ ì¶”ì²œ
- Precisionê³¼ Recall ëª¨ë‘ ê³ ë ¤
```

**ì‹œê°ì  ì˜ˆì‹œ:**

```
ì‹¤ì œ ì¢‹ì•„í•˜ëŠ” ì˜í™” 10ê°œ: â—â—â—â—â—â—â—â—â—â—

[ì•Œê³ ë¦¬ì¦˜ A] ì¶”ì²œ 5ê°œ: â—â—â—‹â—‹â—‹
â†’ Precision: 2/5 = 0.40 (ë†’ìŒ)
â†’ Recall: 2/10 = 0.20 (ë‚®ìŒ)

[ì•Œê³ ë¦¬ì¦˜ B] ì¶”ì²œ 20ê°œ: â—â—â—â—â—â—â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹
â†’ Precision: 6/20 = 0.30 (ë‚®ìŒ)
â†’ Recall: 6/10 = 0.60 (ë†’ìŒ)

â— = ë§ìŒ, â—‹ = í‹€ë¦¼
```

#### 6.1.5 Latency (ì²˜ë¦¬ ì‹œê°„)

**ì •ì˜:**
ì¶”ì²œ ìƒì„±ì— ê±¸ë¦¬ëŠ” ì‹œê°„

**ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤ ê¸°ì¤€:**
- **<100ms**: ìš°ìˆ˜ (ì‚¬ìš©ì ì²´ê° ì—†ìŒ)
- **100-300ms**: ì–‘í˜¸ (ì•½ê°„ ì§€ì—°)
- **>300ms**: ê°œì„  í•„ìš” (ë‹µë‹µí•¨)

**ë³¸ í”„ë¡œì íŠ¸ ê²°ê³¼:**
```
ì¸ê¸°ë„ ê¸°ë°˜:    5ms   â† ì‹¤ì‹œê°„ ê°€ëŠ¥
ì¥ë¥´ ê¸°ë°˜:     80ms   â† ì‹¤ì‹œê°„ ê°€ëŠ¥
í˜‘ì—… í•„í„°ë§:  150ms   â† ì‹¤ì‹œê°„ ê°€ëŠ¥
ML (SVD):     200ms   â† ì‹¤ì‹œê°„ ê°€ëŠ¥
í•˜ì´ë¸Œë¦¬ë“œ:   230ms   â† ì‹¤ì‹œê°„ ê°€ëŠ¥
```

### 6.2 A/B í…ŒìŠ¤íŠ¸ ë°©ë²•ë¡ 

#### 6.2.1 A/B í…ŒìŠ¤íŠ¸ë€?

**ì •ì˜:**
ë‘ ê°€ì§€ ë²„ì „ì„ ë™ì‹œì— ì‹¤í—˜í•˜ì—¬ **ë°ì´í„°ë¡œ** ë” ë‚˜ì€ ê²ƒì„ ì„ íƒ

**ì‹¤ìƒí™œ ì˜ˆì‹œ:**
- ë„·í”Œë¦­ìŠ¤: ì¸ë„¤ì¼ A vs B ì¤‘ í´ë¦­ë¥ ì´ ë†’ì€ ê²ƒ?
- ìœ íŠœë¸Œ: ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ A vs B ì¤‘ ì‹œì²­ ì‹œê°„ì´ ê¸´ ê²ƒ?

#### 6.2.2 ì‹¤í—˜ ì„¤ê³„

**ë³¸ í”„ë¡œì íŠ¸ ì„¤ê³„:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ì „ì²´ ë°ì´í„° (100ë§Œ ê°œ)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                     â”‚
   Train (80%)           Test (20%)
  802,553ê°œ             197,656ê°œ
      â”‚                     â”‚
  ì•Œê³ ë¦¬ì¦˜ í•™ìŠµ         ì„±ëŠ¥ í‰ê°€
  - ì¸ê¸°ë„ ëª¨ë¸           - Hit Rate
  - ì¥ë¥´ ëª¨ë¸             - Precision
  - í˜‘ì—… í•„í„°ë§           - Recall
  - SVD ëª¨ë¸              - Latency
  - í•˜ì´ë¸Œë¦¬ë“œ
```

**ì‹œê°„ ê¸°ë°˜ ë¶„ë¦¬ ì´ìœ :**
1. **í˜„ì‹¤ ì¬í˜„**: ê³¼ê±° ë°ì´í„° â†’ ë¯¸ë˜ ì˜ˆì¸¡
2. **ë°ì´í„° ëˆ„ìˆ˜ ë°©ì§€**: ë¯¸ë˜ ì •ë³´ê°€ í•™ìŠµì— í¬í•¨ë˜ì§€ ì•ŠìŒ
3. **ì‹œê°„ íŒ¨í„´ ê³ ë ¤**: íŠ¸ë Œë“œ ë³€í™” ë°˜ì˜

#### 6.2.3 í†µì œ ë³€ìˆ˜

**ë™ì¼ ì¡°ê±´ ìœ ì§€:**
- ë™ì¼í•œ 6,040ëª… ì‚¬ìš©ì
- ë™ì¼í•œ Test set
- ë™ì¼í•œ í‰ê°€ ì§€í‘œ (Hit Rate@10, Precision@10, Recall@10)
- ë™ì¼í•œ Kê°’ (10ê°œ ì¶”ì²œ)

**ë³€ê²½ ë³€ìˆ˜:**
- ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ (5ê°€ì§€)

#### 6.2.4 ê²°ê³¼ í•´ì„

**ì„±ëŠ¥ ë¹„êµí‘œ:**

| ì•Œê³ ë¦¬ì¦˜ | Hit Rate@10 | Precision@10 | Recall@10 | Latency |
|---------|-------------|--------------|-----------|---------|
| ì¸ê¸°ë„ ê¸°ë°˜ | 0.7298 | 0.1294 | 0.3223 | 5ms |
| ì¥ë¥´ ê¸°ë°˜ | 0.8642 | 0.1535 | 0.3854 | 80ms |
| í˜‘ì—… í•„í„°ë§ | 0.8795 | 0.1563 | 0.3916 | 150ms |
| ML (SVD) | 0.8876 | 0.1577 | 0.3956 | 200ms |
| **í•˜ì´ë¸Œë¦¬ë“œ** | **0.8911** | **0.1584** | **0.3973** | 230ms |

**ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •:**

```
[ê²°ì • 1] ì‹ ê·œ ì‚¬ìš©ì â†’ ì¸ê¸°ë„ ê¸°ë°˜
ì´ìœ : Cold Start ë¬¸ì œ, ë¹ ë¥¸ ì‘ë‹µ (5ms)

[ê²°ì • 2] ì¼ë°˜ ì‚¬ìš©ì â†’ í•˜ì´ë¸Œë¦¬ë“œ
ì´ìœ : ìµœê³  ì •í™•ë„ (Hit Rate 0.8911)

[ê²°ì • 3] ìœ ì‚¬ ì˜í™” ì¶”ì²œ â†’ í˜‘ì—… í•„í„°ë§
ì´ìœ : ì„¤ëª… ê°€ëŠ¥ì„± ("ì´ ì˜í™”ë¥¼ ì¢‹ì•„í•œ ì‚¬ëŒë“¤ì´...")

[ê²°ì • 4] ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ â†’ ì¥ë¥´ ê¸°ë°˜
ì´ìœ : ì •í™•ë„ ë†’ìŒ + ë¹ ë¥¸ ì‘ë‹µ (80ms)
```

### 6.3 í†µê³„ì  ìœ ì˜ì„±

#### 6.3.1 ë² ì´ìŠ¤ë¼ì¸ ì„¤ì •

**Random Recommendation (ë¬´ì‘ìœ„ ì¶”ì²œ):**

```
ì „ì²´ ì˜í™”: 3,883ê°œ
ì¶”ì²œ: 10ê°œ
ì‚¬ìš©ìê°€ ì¢‹ì•„í•  ì˜í™”: í‰ê·  20ê°œ

Random Precision@10 = 10/3,883 Ã— 20 â‰ˆ 0.051 (5%)

ìš°ë¦¬ ì•Œê³ ë¦¬ì¦˜:
- ì¸ê¸°ë„: 0.1294 (12.9%) â†’ 2.5ë°° í–¥ìƒ
- í•˜ì´ë¸Œë¦¬ë“œ: 0.1584 (15.8%) â†’ 3.1ë°° í–¥ìƒ

â†’ í†µê³„ì ìœ¼ë¡œ ìœ ì˜ë¯¸í•œ ê°œì„ 
```

#### 6.3.2 ê°œì„ ìœ¨ ê³„ì‚°

```
ì¸ê¸°ë„ â†’ ì¥ë¥´ ê¸°ë°˜:
Hit Rate ê°œì„  = (0.8642 - 0.7298) / 0.7298 Ã— 100
              = 18.4% í–¥ìƒ

ì¥ë¥´ ê¸°ë°˜ â†’ í•˜ì´ë¸Œë¦¬ë“œ:
Hit Rate ê°œì„  = (0.8911 - 0.8642) / 0.8642 Ã— 100
              = 3.1% í–¥ìƒ

â†’ ê°œì¸í™”ê°€ ì •í™•ë„ë¥¼ í¬ê²Œ í–¥ìƒì‹œí‚´
```

---

## 7. ê¸°ìˆ  ìŠ¤íƒ ë° êµ¬í˜„

### 7.1 ë°ì´í„°ë² ì´ìŠ¤ (PostgreSQL)

#### 7.1.1 ì™œ PostgreSQLì¸ê°€?

**ëŒ€ì•ˆ ë¹„êµ:**

| ì˜µì…˜ | ì¥ì  | ë‹¨ì  | ì„ íƒ ì´ìœ  |
|------|------|------|-----------|
| CSV íŒŒì¼ | ê°„ë‹¨í•¨ | ëŠë¦¼, ë™ì‹œì„± ì•½í•¨ | âŒ ì‹¤ì‹œê°„ ë¶ˆê°€ |
| SQLite | ê°€ë²¼ì›€ | ë™ì‹œ ì“°ê¸° ì•½í•¨ | âŒ í™•ì¥ì„± ë¶€ì¡± |
| **PostgreSQL** | ë¹ ë¦„, í™•ì¥ì„± | ì„¤ì¹˜ í•„ìš” | âœ… ì„ íƒ |
| MongoDB | ìœ ì—°í•¨ | ì§‘ê³„ ì¿¼ë¦¬ ë³µì¡ | âŒ SQLì´ ë” ì í•© |

**PostgreSQL ì¥ì :**
- **ë³µì¡í•œ ì§‘ê³„**: CTE, Window Function ì§€ì›
- **ì¸ë±ì‹±**: B-Tree ì¸ë±ìŠ¤ë¡œ ë¹ ë¥¸ ì¡°íšŒ
- **ACID**: ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥
- **í™•ì¥ì„±**: ìˆ˜ë°±ë§Œ í–‰ ì²˜ë¦¬ ê°€ëŠ¥

#### 7.1.2 ì¸ë±ìŠ¤ ì „ëµ

**ìƒì„±í•œ ì¸ë±ìŠ¤:**

```sql
-- í‰ì  í…Œì´ë¸”
CREATE INDEX idx_ratings_user ON ratings(user_id);
CREATE INDEX idx_ratings_movie ON ratings(movie_id);
CREATE INDEX idx_ratings_timestamp ON ratings(timestamp);

-- ë³µí•© ì¸ë±ìŠ¤ (ìì£¼ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” ì»¬ëŸ¼)
CREATE INDEX idx_ratings_user_movie ON ratings(user_id, movie_id);
```

**íš¨ê³¼:**

```sql
-- ì¸ë±ìŠ¤ ì—†ì„ ë•Œ
SELECT * FROM ratings WHERE user_id = 1;
â†’ Full Table Scan: 1,000,209 rows ê²€ìƒ‰ (ëŠë¦¼)

-- ì¸ë±ìŠ¤ ìˆì„ ë•Œ
SELECT * FROM ratings WHERE user_id = 1;
â†’ Index Scan: ~166 rowsë§Œ ê²€ìƒ‰ (ë¹ ë¦„)
```

#### 7.1.3 CTE (Common Table Expression)

**ì¥ì :**
1. **ê°€ë…ì„±**: ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ë‹¨ê³„ë³„ë¡œ ë¶„ë¦¬
2. **ì¬ì‚¬ìš©**: WITH ì ˆì—ì„œ ì •ì˜í•œ í…Œì´ë¸”ì„ ì—¬ëŸ¬ ë²ˆ ì°¸ì¡°
3. **ìµœì í™”**: PostgreSQLì´ ìë™ìœ¼ë¡œ ì‹¤í–‰ ê³„íš ìµœì í™”

**ì˜ˆì‹œ:**

```sql
-- CTE ì—†ì´
SELECT m.title, AVG(r.rating)
FROM movies m
JOIN ratings r ON m.movie_id = r.movie_id
WHERE m.movie_id IN (
    SELECT mg.movie_id
    FROM movie_genres mg
    WHERE mg.genre_id IN (
        SELECT ugp.genre_id
        FROM (
            SELECT g.genre_id, COUNT(*) as cnt
            FROM ratings ur
            JOIN movie_genres umg ON ur.movie_id = umg.movie_id
            JOIN genres g ON umg.genre_id = g.genre_id
            WHERE ur.user_id = 1
            GROUP BY g.genre_id
            ORDER BY cnt DESC
            LIMIT 3
        ) ugp
    )
)
GROUP BY m.title;

-- CTEë¡œ ê°œì„ 
WITH user_genre_preference AS (
    SELECT g.genre_id, COUNT(*) as cnt
    FROM ratings r
    JOIN movie_genres mg ON r.movie_id = mg.movie_id
    JOIN genres g ON mg.genre_id = g.genre_id
    WHERE r.user_id = 1
    GROUP BY g.genre_id
    ORDER BY cnt DESC
    LIMIT 3
),
preferred_movies AS (
    SELECT m.movie_id, m.title
    FROM movies m
    JOIN movie_genres mg ON m.movie_id = mg.movie_id
    WHERE mg.genre_id IN (SELECT genre_id FROM user_genre_preference)
)
SELECT pm.title, AVG(r.rating)
FROM preferred_movies pm
JOIN ratings r ON pm.movie_id = r.movie_id
GROUP BY pm.title;
```

### 7.2 Python êµ¬í˜„

#### 7.2.1 Pandas

**ì‚¬ìš© ì‚¬ë¡€:**
- CSV ë°ì´í„° ë¡œë“œ ë° ì „ì²˜ë¦¬
- EDA (íƒìƒ‰ì  ë°ì´í„° ë¶„ì„)
- í‰ê°€ ì§€í‘œ ê³„ì‚°

**í•µì‹¬ ì½”ë“œ:**

```python
# ë°ì´í„° ë¡œë“œ
ratings_df = pd.read_sql("SELECT * FROM ratings_train", conn)

# ê·¸ë£¹ë³„ ì§‘ê³„
user_stats = ratings_df.groupby('user_id').agg({
    'rating_id': 'count',  # í‰ì  ê°œìˆ˜
    'rating': 'mean'       # í‰ê·  í‰ì 
})

# ì¡°ê±´ í•„í„°ë§
high_rated = ratings_df[ratings_df['rating'] >= 4.0]
```

#### 7.2.2 NumPy

**ì‚¬ìš© ì‚¬ë¡€:**
- í–‰ë ¬ ì—°ì‚° (SVD)
- ìˆ˜ì¹˜ ê³„ì‚° (í‰ê· , í‘œì¤€í¸ì°¨)
- ë²¡í„° ë‚´ì  (ì½”ì‚¬ì¸ ìœ ì‚¬ë„)

**í•µì‹¬ ì½”ë“œ:**

```python
# ë²¡í„° ë‚´ì 
similarity = np.dot(user_vec, movie_vec)

# í–‰ë ¬ ì •ê·œí™”
normalized = (matrix - matrix.mean()) / matrix.std()

# ë°°ì—´ í´ë¦¬í•‘
prediction = np.clip(raw_prediction, 1.0, 5.0)
```

#### 7.2.3 SciPy

**ì‚¬ìš© ì‚¬ë¡€:**
- Sparse Matrix (í¬ì†Œ í–‰ë ¬)
- SVD ë¶„í•´

**í•µì‹¬ ì½”ë“œ:**

```python
from scipy.sparse import csr_matrix
from scipy.sparse.linalg import svds

# Sparse Matrix ìƒì„±
rating_matrix = csr_matrix(
    (ratings, (user_idx, movie_idx)),
    shape=(6040, 3883)
)

# ë©”ëª¨ë¦¬ ë¹„êµ
# Dense: 6040 Ã— 3883 Ã— 8 = 187 MB
# Sparse: 1,000,209 Ã— 12 = 12 MB

# SVD ìˆ˜í–‰
U, s, Vt = svds(rating_matrix, k=50)
```

### 7.3 Streamlit ì›¹ ì•±

#### 7.3.1 Streamlitì´ë€?

**ì •ì˜:**
Python ì½”ë“œë§Œìœ¼ë¡œ ì›¹ ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” í”„ë ˆì„ì›Œí¬

**íŠ¹ì§•:**
- HTML/CSS/JavaScript ë¶ˆí•„ìš”
- ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘
- ìë™ UI ìƒì„±

#### 7.3.2 ì£¼ìš” ê¸°ëŠ¥

**1) ìºì‹± (st.cache_data)**

```python
@st.cache_data(ttl=3600)  # 1ì‹œê°„ ìºì‹œ
def load_model():
    """ëª¨ë¸ ë¡œë“œ (í•œ ë²ˆë§Œ ì‹¤í–‰)"""
    model = pickle.load(open('models/svd_model.pkl', 'rb'))
    return model

# ì²« ì‹¤í–‰: ëª¨ë¸ ë¡œë“œ (2ì´ˆ)
# ì´í›„ ì‹¤í–‰: ìºì‹œì—ì„œ ê°€ì ¸ì˜´ (0.01ì´ˆ)
```

**íš¨ê³¼:**
- í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œ ì¦‰ì‹œ ì‘ë‹µ
- ë°ì´í„°ë² ì´ìŠ¤ ë¶€í•˜ ê°ì†Œ

**2) ì„¸ì…˜ ìƒíƒœ (st.session_state)**

```python
# ì‚¬ìš©ìë³„ ìƒíƒœ ìœ ì§€
if 'user_id' not in st.session_state:
    st.session_state.user_id = 1

if 'watch_history' not in st.session_state:
    st.session_state.watch_history = []

# ì˜í™” ì¶”ê°€
st.session_state.watch_history.append(new_movie_id)
```

**3) ì¸í„°ë™í‹°ë¸Œ ìœ„ì ¯**

```python
# ìŠ¬ë¼ì´ë”
user_id = st.slider("ì‚¬ìš©ì ID ì„ íƒ", 1, 6040, 1)

# ì…€ë ‰íŠ¸ë°•ìŠ¤
algorithm = st.selectbox(
    "ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜",
    ["ì¸ê¸°ë„", "ì¥ë¥´", "í˜‘ì—… í•„í„°ë§", "ML", "í•˜ì´ë¸Œë¦¬ë“œ"]
)

# ê²€ìƒ‰ì°½
query = st.text_input("ì˜í™” ì œëª© ê²€ìƒ‰")
```

#### 7.3.3 3-Tab êµ¬ì¡°

**Tab 1: ì¶”ì²œë°›ê¸°**
```python
with tab1:
    user_id = st.number_input("ì‚¬ìš©ì ID", 1, 6040, 1)
    algorithm = st.selectbox("ì•Œê³ ë¦¬ì¦˜", algorithms)

    if st.button("ì¶”ì²œ ë°›ê¸°"):
        recommendations = get_recommendations(user_id, algorithm)
        st.dataframe(recommendations)
```

**Tab 2: ì˜í™” ê²€ìƒ‰**
```python
with tab2:
    query = st.text_input("ì œëª© ê²€ìƒ‰")

    results = search_movies(query)

    for movie in results:
        st.write(f"**{movie['title']}**")
        if st.button(f"ìœ ì‚¬ ì˜í™” ë³´ê¸°", key=movie['id']):
            similar = get_similar_movies(movie['id'])
            st.dataframe(similar)
```

**Tab 3: ì‹œì²­ ê¸°ë¡**
```python
with tab3:
    user_id = st.number_input("ì‚¬ìš©ì ID", 1, 6040, 1)

    history = get_watch_history(user_id)
    st.dataframe(history)
```

### 7.4 ë°°í¬ (Streamlit Cloud)

#### 7.4.1 ë°°í¬ ê³¼ì •

**1ë‹¨ê³„: GitHub ì €ì¥ì†Œ ì¤€ë¹„**
```bash
git add app.py requirements.txt
git commit -m "Add Streamlit app"
git push origin main
```

**2ë‹¨ê³„: Streamlit Cloud ì—°ê²°**
- streamlit.io/cloud ì ‘ì†
- GitHub ì €ì¥ì†Œ ì„ íƒ
- app.py ì§€ì •

**3ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
```toml
# .streamlit/secrets.toml (ë¡œì»¬)
[database]
host = "localhost"
port = 5432
database = "movielens_db"
user = "postgres"
password = "mypassword"

# Streamlit Cloud (ì›¹ UIì—ì„œ ì„¤ì •)
```

#### 7.4.2 ë°œìƒí•œ ë¬¸ì œì™€ í•´ê²°

**ë¬¸ì œ 1: ML ëª¨ë¸ íŒŒì¼ ëˆ„ë½**

```
ì˜¤ë¥˜: FileNotFoundError: models/svd_model.pkl
```

**ì›ì¸:**
```gitignore
models/*.pkl  # ëª¨ë“  pkl íŒŒì¼ ë¬´ì‹œ
```

**í•´ê²°:**
```gitignore
# models/*.pkl  # ì£¼ì„ ì²˜ë¦¬
```

```bash
git add models/svd_model.pkl
git commit -m "Add SVD model for deployment"
git push
```

**ë¬¸ì œ 2: numpy ë²„ì „ ë¶ˆì¼ì¹˜**

```
ì˜¤ë¥˜: ModuleNotFoundError: No module named 'numpy._core.numeric'
```

**í•´ê²°:**
```txt
# requirements.txt
numpy>=1.26.0,<2.0.0  # ë²„ì „ ê³ ì •
```

```bash
# ë¡œì»¬ì—ì„œ ëª¨ë¸ ì¬í•™ìŠµ
pip install "numpy==1.26.4"
python src/recommenders/ml_based.py

# ì»¤ë°‹ & í‘¸ì‹œ
git add models/svd_model.pkl
git commit -m "Retrain model with numpy 1.26.4"
git push
```

---

## 8. ë¬¸ì œ í•´ê²° ì‚¬ë¡€

### 8.1 ë°ì´í„° í¬ì†Œì„± ë¬¸ì œ (95.74%)

**ë¬¸ì œ ìƒí™©:**
- 6,040ëª… Ã— 3,883ê°œ = 23,453,320 ê°€ëŠ¥í•œ í‰ì 
- ì‹¤ì œ í‰ì : 1,000,209ê°œ (4.26%)
- Dense Matrix ì‚¬ìš© ì‹œ: 187 MB ë©”ëª¨ë¦¬ í•„ìš”

**ë¶„ì„:**
- EDA ê²°ê³¼, 95.74% í¬ì†Œì„± ë°œê²¬
- ëŒ€ë¶€ë¶„ì˜ ê°’ì´ 0 (ë¯¸í‰ê°€)
- ë©”ëª¨ë¦¬ ë‚­ë¹„ + ê³„ì‚° ë¹„íš¨ìœ¨

**í•´ê²°:**
1. **Sparse Matrix ì‚¬ìš©** (scipy.sparse.csr_matrix)
   - 0ì´ ì•„ë‹Œ ê°’ë§Œ ì €ì¥
   - ë©”ëª¨ë¦¬: 187 MB â†’ 12 MB (ì•½ 15ë°° ì ˆê°)

2. **SVD ìµœì í™”**
   - scipy.sparse.linalg.svds() ì‚¬ìš©
   - Sparse Matrix ì§ì ‘ ì²˜ë¦¬

**ê²°ê³¼:**
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ 95% ê°ì†Œ
- ì¼ë°˜ PCì—ì„œë„ ë¹ ë¥¸ ì²˜ë¦¬ ê°€ëŠ¥

**ë°ì´í„° ë¶„ì„ê°€ ì—­ëŸ‰:**
- EDAë¥¼ í†µí•œ ë°ì´í„° íŠ¹ì„± íŒŒì•…
- íš¨ìœ¨ì ì¸ ìë£Œêµ¬ì¡° ì„ íƒ

---

### 8.2 Cold Start ë¬¸ì œ í•´ê²°

**ë¬¸ì œ ìƒí™©:**
- EDA ê²°ê³¼, 506ê°œ ì˜í™”(13%)ê°€ í‰ì  5ê°œ ì´í•˜
- í‰ì  3ê°œë¡œ 5.0ì  â†’ ì‹ ë¢°ë„ ë‚®ìŒ
- ë‹¨ìˆœ í‰ê·  ì‚¬ìš© ì‹œ ê³¼ëŒ€í‰ê°€ ìœ„í—˜

**ë¶„ì„:**
- Long Tail ë¶„í¬: ì†Œìˆ˜ ì¸ê¸° ì˜í™” vs ë‹¤ìˆ˜ ë¹„ì¸ê¸° ì˜í™”
- í†µê³„ì  ì‹ ë¢°ë„ ë¶€ì¡±
- ì‹ ê·œ ì‚¬ìš©ì/ì˜í™” ì¶”ì²œ ì–´ë ¤ì›€

**í•´ê²° ì „ëµ (3ê°€ì§€):**

**1) ë² ì´ì§€ì•ˆ ê°€ì¤‘ í‰ì **
```python
# í‰ì  ì ìœ¼ë©´ ì „ì²´ í‰ê· ìœ¼ë¡œ ë³´ì •
weighted_rating = (v/(v+m)) * R + (m/(v+m)) * C

# íš¨ê³¼:
# - í‰ì  5ê°œ, 5.0ì  â†’ 3.8ì ìœ¼ë¡œ í•˜ë½
# - í‰ì  1000ê°œ, 4.8ì  â†’ 4.76ì  ìœ ì§€
```

**2) ë©”íƒ€ë°ì´í„° í™œìš©**
- í‰ì  ë¶€ì¡±í•´ë„ ì¥ë¥´ ì •ë³´ ì¡´ì¬
- ì¥ë¥´ ê¸°ë°˜ ì¶”ì²œìœ¼ë¡œ ëŒ€ì²´

**3) ì•Œê³ ë¦¬ì¦˜ ë‹¤ì–‘í™”**
- ì‹ ê·œ ì˜í™” â†’ ì¸ê¸°ë„/ì¥ë¥´ ê¸°ë°˜
- ì¶©ë¶„í•œ ë°ì´í„° â†’ í˜‘ì—… í•„í„°ë§/ML

**ê²°ê³¼:**
- ê³µì •í•œ í‰ê°€ ì§€í‘œ í™•ë¦½
- ì‹ ê·œ ì•„ì´í…œì—ë„ ì¶”ì²œ ê°€ëŠ¥

**ë°ì´í„° ë¶„ì„ê°€ ì—­ëŸ‰:**
- í†µê³„ì  í¸í–¥ ì‹ë³„ ë° ë³´ì •
- ë³´ì™„ ë°ì´í„° í™œìš© ì „ëµ

---

### 8.3 Long Tail ë¶„í¬ í¸í–¥ ì œê±°

**ë¬¸ì œ ìƒí™©:**
- ìƒìœ„ 20ê°œ ì˜í™”ê°€ ëŒ€ë¶€ë¶„ì˜ í‰ì  ì°¨ì§€
- ë‹¨ìˆœ í‰ê· :
  - ì˜í™” A: 5.0ì  (í‰ì  1ê°œ)
  - ì˜í™” B: 4.8ì  (í‰ì  1,000ê°œ)
  - Aê°€ ë” ë†’ê²Œ í‰ê°€ë¨ (ë¶ˆê³µì •)

**ë¶„ì„:**
- í‰ì  ìˆ˜ë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠìŒ
- ê·¹ë‹¨ê°’ì— ì·¨ì•½
- ë¹„ì¸ê¸° ì˜í™” ê³¼ëŒ€í‰ê°€

**í•´ê²°:**
- IMDB Top 250 ë°©ì‹ ì ìš© (ë² ì´ì§€ì•ˆ ê°€ì¤‘ í‰ì )
- ì „ì²´ í‰ê· (3.6ì )ì„ ì‚¬ì „ í™•ë¥ ë¡œ ì‚¬ìš©
- í‰ì  ì ì„ìˆ˜ë¡ ì „ì²´ í‰ê· ì— ê°€ê¹Œì›Œì§

**íš¨ê³¼:**
```
ì˜í™” A: 5.0ì  (1ê°œ) â†’ 3.7ì 
ì˜í™” B: 4.8ì  (1000ê°œ) â†’ 4.76ì 

â†’ Bê°€ ë” ë†’ê²Œ í‰ê°€ë¨ (ê³µì •)
```

**ë°ì´í„° ë¶„ì„ê°€ ì—­ëŸ‰:**
- ë°ì´í„° ë¶„í¬ ë¶„ì„
- ê³µì •í•œ í‰ê°€ ì§€í‘œ ì„¤ê³„

---

### 8.4 ëŒ€ìš©ëŸ‰ ìœ ì‚¬ë„ ê³„ì‚° ìµœì í™”

**ë¬¸ì œ ìƒí™©:**
- 500ê°œ ì˜í™” Ã— 499ê°œ / 2 = 124,750 ìŒ
- ê°œë³„ SQL ì¿¼ë¦¬: 124,750ë²ˆ ì‹¤í–‰
- ì˜ˆìƒ ì‹œê°„: 10-20ë¶„ (ë¹„í˜„ì‹¤ì )

**ë¶„ì„:**
- ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ (Python â†” DB í†µì‹ )
- ë°˜ë³µë¬¸ ë¹„íš¨ìœ¨
- ë¶„ì„ ìƒì‚°ì„± ì €í•˜

**í•´ê²°:**
```sql
-- Before: 124,750ë²ˆì˜ ê°œë³„ ì¿¼ë¦¬
for movie1 in movies:
    for movie2 in movies:
        query = f"SELECT calculate_similarity({movie1}, {movie2})"
        execute(query)

-- After: 1ë²ˆì˜ í†µí•© ì¿¼ë¦¬
SELECT
    r1.movie_id,
    r2.movie_id,
    -- ì½”ì‚¬ì¸ ìœ ì‚¬ë„
    SUM(r1.rating * r2.rating) /
    (SQRT(SUM(r1.rating * r1.rating)) * SQRT(SUM(r2.rating * r2.rating)))
FROM ratings_train r1
CROSS JOIN ratings_train r2
WHERE r1.movie_id < r2.movie_id
  AND r1.user_id = r2.user_id
GROUP BY r1.movie_id, r2.movie_id
HAVING COUNT(*) >= 5;
```

**ê²°ê³¼:**
- 10-20ë¶„ â†’ 0.6ì´ˆ (ì•½ 2,000ë°° ê°œì„ )
- ë‹¨ì¼ DB ì—°ê²°ë¡œ ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ì œê±°
- PostgreSQL ìµœì í™” í™œìš©

**ë°ì´í„° ë¶„ì„ê°€ ì—­ëŸ‰:**
- ë³‘ëª© êµ¬ê°„ ì‹ë³„
- SQL ìµœì í™”ë¥¼ í†µí•œ ì„±ëŠ¥ ê°œì„ 

---

### 8.5 numpy ë²„ì „ í˜¸í™˜ì„± ë¬¸ì œ

**ë¬¸ì œ ìƒí™©:**
```
ë°°í¬ ì˜¤ë¥˜: ModuleNotFoundError: No module named 'numpy._core.numeric'
```

**ë¶„ì„:**
- ë¡œì»¬ í™˜ê²½: numpy 2.3.5ë¡œ ëª¨ë¸ í•™ìŠµ
- ë°°í¬ í™˜ê²½: Streamlit CloudëŠ” numpy 1.x ì§€ì›
- pickle íŒŒì¼ ë‚´ë¶€ êµ¬ì¡° ë¶ˆì¼ì¹˜

**í•´ê²°:**
1. **ë²„ì „ ê³ ì •**
```txt
# requirements.txt
numpy>=1.26.0,<2.0.0
```

2. **ëª¨ë¸ ì¬í•™ìŠµ**
```bash
pip uninstall numpy
pip install "numpy==1.26.4"
python src/recommenders/ml_based.py
```

3. **ì»¤ë°‹ & ë°°í¬**
```bash
git add models/svd_model.pkl requirements.txt
git commit -m "Fix numpy compatibility"
git push
```

**ê²°ê³¼:**
- ë°°í¬ ì„±ê³µ
- ì¬í˜„ ê°€ëŠ¥í•œ í™˜ê²½ êµ¬ì¶•

**ë°ì´í„° ë¶„ì„ê°€ ì—­ëŸ‰:**
- í™˜ê²½ ê´€ë¦¬ (reproducibility)
- ì˜ì¡´ì„± ë²„ì „ ê´€ë¦¬

---

## 9. ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸

### 9.1 í”„ë¡œì íŠ¸ ê°œìš”

**Q1: ì´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ëœ ë°°ê²½ì€ ë¬´ì—‡ì¸ê°€ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "ë°ì´í„° ë¶„ì„ê°€ í¬ì§€ì…˜ì— ì§€ì›í•˜ë©´ì„œ, ì‹¤ë¬´ì—ì„œ ìì£¼ í™œìš©ë˜ëŠ” ì¶”ì²œ ì‹œìŠ¤í…œì„ ì§ì ‘ êµ¬í˜„í•´ë³´ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ EDAë¥¼ í†µí•´ ë°ì´í„° íŠ¹ì„±ì„ íŒŒì•…í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì—¬ëŸ¬ ì•Œê³ ë¦¬ì¦˜ì„ ì„¤ê³„Â·í‰ê°€í•˜ëŠ” ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ê²½í—˜í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤. MovieLens ë°ì´í„°ì…‹ì€ ê³µê°œ ë°ì´í„°ì´ë©´ì„œë„ ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œ(ì˜í™” ì¶”ì²œ)ë¥¼ ë‹¤ë£¨ê¸°ì— ì í•©í•˜ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤."

**Q2: ì™œ 5ê°€ì§€ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í–ˆë‚˜ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "ë‹¨ì¼ ì•Œê³ ë¦¬ì¦˜ì€ íŠ¹ì • ìƒí™©ì—ì„œ í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í˜‘ì—… í•„í„°ë§ì€ ì •í™•ë„ê°€ ë†’ì§€ë§Œ ì‹ ê·œ ì‚¬ìš©ìì—ê²ŒëŠ” ì¶”ì²œì´ ì–´ë µê³ (Cold Start), ì¸ê¸°ë„ ê¸°ë°˜ì€ ë¹ ë¥´ì§€ë§Œ ê°œì¸í™”ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ê° ì•Œê³ ë¦¬ì¦˜ì˜ ì¥ë‹¨ì ì„ íŒŒì•…í•˜ê³ , A/B í…ŒìŠ¤íŠ¸ë¡œ ì„±ëŠ¥ì„ ì •ëŸ‰ì ìœ¼ë¡œ ë¹„êµí•˜ì—¬, **ìƒí™©ì— ë§ëŠ” ìµœì ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒ**í•  ìˆ˜ ìˆëŠ” ì²´ê³„ë¥¼ ë§Œë“¤ê³ ì í–ˆìŠµë‹ˆë‹¤."

---

### 9.2 ë°ì´í„° ë¶„ì„ (EDA)

**Q3: EDAì—ì„œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ë³¸ ì§€í‘œëŠ” ë¬´ì—‡ì¸ê°€ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "**ë°ì´í„° í¬ì†Œì„±(95.74%)**ê³¼ **Long Tail ë¶„í¬**ë¥¼ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ë´¤ìŠµë‹ˆë‹¤. í¬ì†Œì„±ì´ ë†’ë‹¤ëŠ” ê²ƒì€ ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ì-ì˜í™” ì¡°í•©ì— í‰ì ì´ ì—†ë‹¤ëŠ” ì˜ë¯¸ë¡œ, ì´ëŠ” Sparse Matrix ìë£Œêµ¬ì¡° ì„ íƒê³¼ SVD ì•Œê³ ë¦¬ì¦˜ ì ìš©ì˜ ê·¼ê±°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. Long Tail ë¶„í¬ëŠ” ì†Œìˆ˜ì˜ ì¸ê¸° ì˜í™”ê°€ ëŒ€ë¶€ë¶„ì˜ í‰ì ì„ ì°¨ì§€í•œë‹¤ëŠ” ì˜ë¯¸ë¡œ, ë² ì´ì§€ì•ˆ ê°€ì¤‘ í‰ì ì„ ì ìš©í•˜ì—¬ ê³µì •í•œ í‰ê°€ë¥¼ í•˜ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤."

**Q4: Cold Start ë¬¸ì œë¥¼ ì–´ë–»ê²Œ ë°œê²¬í•˜ê³  í•´ê²°í–ˆë‚˜ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "EDA ê³¼ì •ì—ì„œ 506ê°œ ì˜í™”(13%)ê°€ í‰ì  5ê°œ ì´í•˜ë¼ëŠ” ê²ƒì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” í†µê³„ì ìœ¼ë¡œ ì‹ ë¢°ë„ê°€ ë‚®ì•„ ë‹¨ìˆœ í‰ê·  ì‚¬ìš© ì‹œ ê³¼ëŒ€í‰ê°€ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. í•´ê²°ì±…ìœ¼ë¡œ 3ê°€ì§€ ì „ëµì„ ì ìš©í–ˆìŠµë‹ˆë‹¤:
>
> 1. **ë² ì´ì§€ì•ˆ ê°€ì¤‘ í‰ì **: í‰ì ì´ ì ìœ¼ë©´ ì „ì²´ í‰ê· (3.6ì )ìœ¼ë¡œ ë³´ì •
> 2. **ë©”íƒ€ë°ì´í„° í™œìš©**: í‰ì  ë¶€ì¡± ì‹œ ì¥ë¥´ ì •ë³´ ê¸°ë°˜ ì¶”ì²œ
> 3. **ì•Œê³ ë¦¬ì¦˜ ë‹¤ì–‘í™”**: ì‹ ê·œ ì˜í™”ëŠ” ì¸ê¸°ë„/ì¥ë¥´ ê¸°ë°˜ìœ¼ë¡œ ëŒ€ì²´
>
> ì´ë¥¼ í†µí•´ ë°ì´í„° ë¶€ì¡± ìƒí™©ì—ì„œë„ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¶”ì²œì„ ì œê³µí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤."

**Q5: ë°ì´í„° í¬ì†Œì„±ì´ 95.74%ì¸ë°, ì´ê²Œ ì¶”ì²œ ì‹œìŠ¤í…œì— ì–´ë–¤ ì˜í–¥ì„ ì£¼ë‚˜ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "í¬ì†Œì„±ì´ ë†’ìœ¼ë©´ ë‘ ê°€ì§€ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤:
>
> 1. **ë©”ëª¨ë¦¬ ë¹„íš¨ìœ¨**: ì „ì²´ í–‰ë ¬ì„ ì €ì¥í•˜ë©´ 95%ê°€ 0ì´ì§€ë§Œ 187MBë¥¼ ì°¨ì§€í•©ë‹ˆë‹¤.
> 2. **ìœ ì‚¬ë„ ê³„ì‚° ì–´ë ¤ì›€**: ê³µí†µ í‰ì ì´ ì ìœ¼ë©´ í˜‘ì—… í•„í„°ë§ì˜ ì‹ ë¢°ë„ê°€ ë–¨ì–´ì§‘ë‹ˆë‹¤.
>
> í•´ê²°ì±…ìœ¼ë¡œ Sparse Matrix(CSR í˜•ì‹)ë¥¼ ì‚¬ìš©í•´ ë©”ëª¨ë¦¬ë¥¼ 12MBë¡œ ì¤„ì´ê³ , ìµœì†Œ ê³µí†µ ì‚¬ìš©ì ìˆ˜(min_common_users=5)ë¥¼ ì„¤ì •í•˜ì—¬ ì‹ ë¢°ë„ë¥¼ í™•ë³´í–ˆìŠµë‹ˆë‹¤."

---

### 9.3 ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

**Q6: í˜‘ì—… í•„í„°ë§ì—ì„œ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ ì‚¬ìš©í•œ ì´ìœ ëŠ”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "ìœ ì‚¬ë„ ì¸¡ì • ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆì§€ë§Œ(í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜, ìœ í´ë¦¬ë“œ ê±°ë¦¬ ë“±), ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ ì„ íƒí•œ ì´ìœ ëŠ”:
>
> 1. **ìŠ¤ì¼€ì¼ ë…ë¦½ì **: í‰ì  ë²”ìœ„ê°€ ë‹¬ë¼ë„ ê°ë„ë§Œ ì¸¡ì •í•˜ë¯€ë¡œ ê³µì •í•©ë‹ˆë‹¤.
> 2. **í¬ì†Œì„±ì— ê°•í•¨**: ê³µí†µ í‰ì ë§Œìœ¼ë¡œ ê³„ì‚° ê°€ëŠ¥í•©ë‹ˆë‹¤.
> 3. **í•´ì„ ê°€ëŠ¥**: 0~1 ì‚¬ì´ ê°’ìœ¼ë¡œ ì§ê´€ì ì…ë‹ˆë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ì Aê°€ ëª¨ë“  ì˜í™”ì— 5ì ì„ ì£¼ê³ , ì‚¬ìš©ì Bê°€ ëª¨ë“  ì˜í™”ì— 3ì ì„ ì¤€ë‹¤ë©´, í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜ëŠ” undefinedì´ì§€ë§Œ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ëŠ” 1(ì™„ì „ ë™ì¼)ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤."

**Q7: SVDì˜ ì ì¬ ìš”ì¸(latent factor)ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**

**ë‹µë³€ ì˜ˆì‹œ:**
> "ì ì¬ ìš”ì¸ì€ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜ë˜ì§€ ì•Šì€ **ìˆ¨ê²¨ì§„ íŒ¨í„´**ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:
>
> - Factor 1: 'ì•¡ì…˜ ì„ í˜¸ë„' (The Matrix, Terminator ë“±ì´ ë†’ì€ ê°’)
> - Factor 2: 'ë¡œë§¨ìŠ¤ ì„ í˜¸ë„' (Titanic, The Notebook ë“±ì´ ë†’ì€ ê°’)
>
> ì‚¬ìš©ìë„ ì´ ìš”ì¸ì— ëŒ€í•œ ê°’ì„ ê°€ì§‘ë‹ˆë‹¤. ë§Œì•½ ì‚¬ìš©ì Aê°€ Factor 1=0.9, Factor 2=0.1ì´ë©´ ì•¡ì…˜ì„ ì„ í˜¸í•˜ê³ , ì‚¬ìš©ì Bê°€ Factor 1=0.2, Factor 2=0.8ì´ë©´ ë¡œë§¨ìŠ¤ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤. SVDëŠ” ì´ëŸ¬í•œ ì ì¬ ìš”ì¸ì„ **ìë™ìœ¼ë¡œ ë°œê²¬**í•˜ì—¬ ì˜ˆì¸¡ì— í™œìš©í•©ë‹ˆë‹¤."

**Q8: í•˜ì´ë¸Œë¦¬ë“œì—ì„œ ê°€ì¤‘ì¹˜ë¥¼ 0.4, 0.6ìœ¼ë¡œ ì„¤ì •í•œ ì´ìœ ëŠ”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "Grid Search ë°©ì‹ìœ¼ë¡œ ë‹¤ì–‘í•œ ê°€ì¤‘ì¹˜ ì¡°í•©ì„ ì‹¤í—˜í–ˆìŠµë‹ˆë‹¤:
>
> ```
> w1=0.3, w2=0.7 â†’ Hit Rate: 0.8867
> w1=0.4, w2=0.6 â†’ Hit Rate: 0.8911 â† ìµœê³ 
> w1=0.5, w2=0.5 â†’ Hit Rate: 0.8895
> ```
>
> í˜‘ì—… í•„í„°ë§ì´ ì¥ë¥´ ê¸°ë°˜ë³´ë‹¤ ì •í™•ë„ê°€ ë†’ê¸° ë•Œë¬¸ì—, ë” ë†’ì€ ê°€ì¤‘ì¹˜(0.6)ë¥¼ ë¶€ì—¬í•˜ëŠ” ê²ƒì´ í•©ë¦¬ì ì´ì—ˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ì¥ë¥´ ê¸°ë°˜ë„ 0.4ë¡œ ì¶©ë¶„íˆ ë°˜ì˜í•˜ì—¬ ë‹¤ì–‘ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤."

---

### 9.4 í‰ê°€ ë°©ë²•ë¡ 

**Q9: Precisionê³¼ Recallì˜ ì°¨ì´ë¥¼ ì„¤ëª…í•˜ê³ , ì–´ë–¤ ìƒí™©ì—ì„œ ì–´ë–¤ ì§€í‘œë¥¼ ì¤‘ì‹œí•˜ë‚˜ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "**Precision**ì€ 'ì¶”ì²œí•œ ê²ƒ ì¤‘ ë§ì€ ë¹„ìœ¨'ì´ê³ , **Recall**ì€ 'ì¢‹ì•„í•˜ëŠ” ê²ƒ ì¤‘ ì°¾ì€ ë¹„ìœ¨'ì…ë‹ˆë‹¤.
>
> **ì˜ˆì‹œ:**
> - ì¶”ì²œ 10ê°œ ì¤‘ 2ê°œ ë§ìŒ, ì‹¤ì œ ì¢‹ì•„í•˜ëŠ” ê²ƒ 5ê°œ
> - Precision = 2/10 = 0.20 (ì¶”ì²œ ì •í™•ë„)
> - Recall = 2/5 = 0.40 (ì»¤ë²„ë¦¬ì§€)
>
> **ìƒí™©ë³„ ì„ íƒ:**
> - **ì´ë©”ì¼ ì¶”ì²œ**: Precision ì¤‘ì‹œ (ì˜ëª»ëœ ì¶”ì²œì€ ìŠ¤íŒ¸ì²˜ëŸ¼ ëŠê»´ì§)
> - **ê²€ìƒ‰ ì—”ì§„**: Recall ì¤‘ì‹œ (ë§ì´ ì°¾ëŠ” ê²Œ ì¤‘ìš”)
> - **ì˜í™” ì¶”ì²œ**: ë‘˜ ë‹¤ ì¤‘ìš” (ì •í™•í•˜ë©´ì„œë„ ë‹¤ì–‘í•˜ê²Œ)
>
> ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” í•˜ì´ë¸Œë¦¬ë“œ ì•Œê³ ë¦¬ì¦˜ì´ Precisionê³¼ Recall ëª¨ë‘ ìµœê³  ì„±ëŠ¥ì„ ë³´ì˜€ìŠµë‹ˆë‹¤."

**Q10: A/B í…ŒìŠ¤íŠ¸ë¥¼ ì™œ ì‹œê°„ ê¸°ë°˜ìœ¼ë¡œ ë¶„ë¦¬í–ˆë‚˜ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "Random splitì€ ê°„ë‹¨í•˜ì§€ë§Œ **ë°ì´í„° ëˆ„ìˆ˜(data leakage)** ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìê°€ 2023ë…„ 1ì›”ì— í‰ì ì„ ì£¼ê³ , 2023ë…„ 12ì›”ì— ë˜ í‰ì ì„ ì¤¬ëŠ”ë°, 1ì›” ë°ì´í„°ê°€ Test setì—, 12ì›” ë°ì´í„°ê°€ Train setì— ë“¤ì–´ê°€ë©´, ë¯¸ë˜ ì •ë³´ë¡œ ê³¼ê±°ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ë¹„í˜„ì‹¤ì  ìƒí™©ì´ ë©ë‹ˆë‹¤.
>
> ì‹œê°„ ê¸°ë°˜ ë¶„ë¦¬ëŠ” **ì‹¤ì œ ì„œë¹„ìŠ¤ì™€ ë™ì¼í•œ ì¡°ê±´**ì„ ì¬í˜„í•©ë‹ˆë‹¤:
> - Train: ê³¼ê±° ë°ì´í„° (80%)
> - Test: ë¯¸ë˜ ë°ì´í„° (20%)
>
> ì´ë¥¼ í†µí•´ ëª¨ë¸ì´ ì‹¤ì œ í™˜ê²½ì—ì„œë„ ì˜ ì‘ë™í• ì§€ ì •í™•íˆ í‰ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

**Q11: Hit Rate@10ì´ 0.8911ì¸ë°, ì´ê²Œ ì¢‹ì€ ì„±ëŠ¥ì¸ê°€ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "ì ˆëŒ€ì  ê¸°ì¤€ì€ ì—†ì§€ë§Œ, **ë² ì´ìŠ¤ë¼ì¸ê³¼ ë¹„êµ**í•˜ë©´ ìš°ìˆ˜í•œ ì„±ëŠ¥ì…ë‹ˆë‹¤:
>
> - **Random Recommendation**: Hit Rate â‰ˆ 0.05 (5%)
> - **ì¸ê¸°ë„ ê¸°ë°˜**: Hit Rate = 0.7298 (72.98%)
> - **í•˜ì´ë¸Œë¦¬ë“œ**: Hit Rate = 0.8911 (89.11%)
>
> Random ëŒ€ë¹„ **17.8ë°°** í–¥ìƒë˜ì—ˆê³ , ì¸ê¸°ë„ ê¸°ë°˜ ëŒ€ë¹„ **22% í–¥ìƒ**ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” ê°œì¸í™”ê°€ íš¨ê³¼ì ìœ¼ë¡œ ì‘ë™í•˜ê³  ìˆë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ë˜í•œ, 89%ì˜ ì‚¬ìš©ìê°€ ì¶”ì²œ 10ê°œ ì¤‘ ìµœì†Œ 1ê°œëŠ” í´ë¦­í•  ë§Œí•œ ì˜í™”ë¥¼ ë°›ì•˜ë‹¤ëŠ” ëœ»ìœ¼ë¡œ, ë¹„ì¦ˆë‹ˆìŠ¤ì ìœ¼ë¡œë„ ìœ ì˜ë¯¸í•œ ìˆ˜ì¹˜ì…ë‹ˆë‹¤."

---

### 9.5 ê¸°ìˆ  êµ¬í˜„

**Q12: PostgreSQLì˜ CTEë¥¼ ì‚¬ìš©í•œ ì´ìœ ëŠ”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ **ë‹¨ê³„ë³„ë¡œ ë¶„ë¦¬**í•˜ì—¬ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì´ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¥ë¥´ ê¸°ë°˜ ì¶”ì²œì€ 4ë‹¨ê³„ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:
>
> 1. ì‚¬ìš©ì ì„ í˜¸ ì¥ë¥´ ë¶„ì„
> 2. ì´ë¯¸ ë³¸ ì˜í™” í•„í„°ë§
> 3. ì„ í˜¸ ì¥ë¥´ ì˜í™” ì¶”ì¶œ
> 4. ìµœì¢… ì ìˆ˜ ê³„ì‚°
>
> CTE ì—†ì´ í•œ ë²ˆì— ì‘ì„±í•˜ë©´ 300ì¤„ì˜ ë³µì¡í•œ ì¿¼ë¦¬ê°€ ë˜ì§€ë§Œ, WITH ì ˆë¡œ ë‚˜ëˆ„ë©´ ê° ë‹¨ê³„ë¥¼ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, PostgreSQLì´ ìë™ìœ¼ë¡œ ì‹¤í–‰ ê³„íšì„ ìµœì í™”í•˜ì—¬ ì„±ëŠ¥ë„ í–¥ìƒë©ë‹ˆë‹¤."

**Q13: Sparse Matrixë¥¼ ì‚¬ìš©í–ˆì„ ë•Œì˜ êµ¬ì²´ì ì¸ íš¨ê³¼ëŠ”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "**ë©”ëª¨ë¦¬ ì ˆê°**ê³¼ **ê³„ì‚° íš¨ìœ¨**ì´ í•µì‹¬ì…ë‹ˆë‹¤:
>
> **ë©”ëª¨ë¦¬:**
> - Dense Matrix: 6,040 Ã— 3,883 Ã— 8 bytes = 187 MB
> - Sparse Matrix (CSR): 1,000,209 Ã— 12 bytes = 12 MB
> - **ì ˆê°ìœ¨: 93.6%**
>
> **ê³„ì‚°:**
> - SVD ìˆ˜í–‰ ì‹œ 0ì´ ì•„ë‹Œ ê°’ë§Œ ì²˜ë¦¬
> - scipy.sparse.linalg.svds()ëŠ” Sparse Matrix ì§ì ‘ ì§€ì›
> - ì¼ë°˜ PC(RAM 8GB)ì—ì„œë„ ë¹ ë¥´ê²Œ ì²˜ë¦¬ ê°€ëŠ¥
>
> ë§Œì•½ Dense Matrixë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´, ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì„œë²„ê¸‰ ì¥ë¹„ê°€ í•„ìš”í–ˆì„ ê²ƒì…ë‹ˆë‹¤."

**Q14: Streamlitì„ ì„ íƒí•œ ì´ìœ ëŠ”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "**ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘**ê³¼ **ë°°í¬ ê°„í¸í•¨** ë•Œë¬¸ì…ë‹ˆë‹¤:
>
> **ì¥ì :**
> 1. Python ì½”ë“œë§Œìœ¼ë¡œ ì›¹ ì•± ê°œë°œ (HTML/CSS/JS ë¶ˆí•„ìš”)
> 2. st.cache_dataë¡œ ì„±ëŠ¥ ìµœì í™” ê°€ëŠ¥
> 3. Streamlit Cloudë¡œ ë¬´ë£Œ ë°°í¬ ê°€ëŠ¥
> 4. ì¸í„°ë™í‹°ë¸Œ ìœ„ì ¯ ì œê³µ (ìŠ¬ë¼ì´ë”, ì…€ë ‰íŠ¸ë°•ìŠ¤ ë“±)
>
> **ëŒ€ì•ˆ ë¹„êµ:**
> - Flask/Django: ë” ìœ ì—°í•˜ì§€ë§Œ ê°œë°œ ì‹œê°„ ì˜¤ë˜ ê±¸ë¦¼
> - Jupyter Notebook: ë¶„ì„ì—ëŠ” ì¢‹ì§€ë§Œ ë°°í¬ ì–´ë ¤ì›€
>
> ë°ì´í„° ë¶„ì„ê°€ë¡œì„œ **ë¶„ì„ ê²°ê³¼ë¥¼ ë¹ ë¥´ê²Œ ì‹œê°í™”í•˜ê³  ê³µìœ **í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í–ˆê¸°ì— Streamlitì´ ìµœì ì´ì—ˆìŠµë‹ˆë‹¤."

---

### 9.6 ë¬¸ì œ í•´ê²°

**Q15: ê°€ì¥ ì–´ë ¤ì› ë˜ ë¬¸ì œì™€ í•´ê²° ê³¼ì •ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**

**ë‹µë³€ ì˜ˆì‹œ:**
> "**ëŒ€ìš©ëŸ‰ ìœ ì‚¬ë„ ê³„ì‚° ìµœì í™”**ê°€ ê°€ì¥ ì–´ë ¤ì› ìŠµë‹ˆë‹¤. 500ê°œ ì˜í™” ê°„ ìœ ì‚¬ë„ë¥¼ ê³„ì‚°í•˜ë ¤ë©´ 124,750ê°œ ìŒì„ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”ë°, ì´ˆê¸° êµ¬í˜„ì€ ê°œë³„ SQL ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ 10-20ë¶„ì´ ê±¸ë ¸ìŠµë‹ˆë‹¤.
>
> **ë¬¸ì œ ë¶„ì„:**
> - Python â†” DB ê°„ 124,750ë²ˆ í†µì‹  (ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ)
> - ë°˜ë³µë¬¸ì˜ ë¹„íš¨ìœ¨
>
> **í•´ê²° ê³¼ì •:**
> 1. SQL CROSS JOINìœ¼ë¡œ ëª¨ë“  ì¡°í•©ì„ í•œ ë²ˆì— ìƒì„±
> 2. GROUP BYë¡œ ìŒë³„ ì§‘ê³„
> 3. HAVINGìœ¼ë¡œ ìµœì†Œ ê³µí†µ ì‚¬ìš©ì í•„í„°ë§
> 4. ë‹¨ì¼ ì¿¼ë¦¬ë¡œ 124,750ìŒì„ 0.6ì´ˆì— ì²˜ë¦¬
>
> **êµí›ˆ:**
> - ë°ì´í„°ë² ì´ìŠ¤ì˜ ì§‘í•© ì—°ì‚° í™œìš©
> - ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ìµœì†Œí™”
> - ì•½ **2,000ë°° ê°œì„ **ì„ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤."

**Q16: ë°°í¬ ê³¼ì •ì—ì„œ ë°œìƒí•œ ë¬¸ì œë¥¼ ì–´ë–»ê²Œ í•´ê²°í–ˆë‚˜ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "**numpy ë²„ì „ ë¶ˆì¼ì¹˜** ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë¡œì»¬ì—ì„œëŠ” numpy 2.3.5ë¡œ ëª¨ë¸ì„ í•™ìŠµí–ˆëŠ”ë°, Streamlit CloudëŠ” numpy 1.xë§Œ ì§€ì›í•˜ì—¬ pickle íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.
>
> **í•´ê²° ë‹¨ê³„:**
> 1. requirements.txtì— `numpy>=1.26.0,<2.0.0` ì¶”ê°€ (ë²„ì „ ê³ ì •)
> 2. ë¡œì»¬ í™˜ê²½ë„ numpy 1.26.4ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ
> 3. SVD ëª¨ë¸ ì¬í•™ìŠµ
> 4. Git commit & pushë¡œ ì¬ë°°í¬
>
> **êµí›ˆ:**
> - **ì¬í˜„ ê°€ëŠ¥í•œ í™˜ê²½(reproducibility)** ì¤‘ìš”ì„±
> - ì˜ì¡´ì„± ë²„ì „ ê´€ë¦¬ í•„ìˆ˜
> - ë¡œì»¬ê³¼ ë°°í¬ í™˜ê²½ì„ ì¼ì¹˜ì‹œì¼œì•¼ í•¨
>
> ì´í›„ ëª¨ë“  íŒ¨í‚¤ì§€ ë²„ì „ì„ ëª…ì‹œì ìœ¼ë¡œ ê³ ì •í•˜ì—¬ ë™ì¼í•œ ë¬¸ì œë¥¼ ì˜ˆë°©í–ˆìŠµë‹ˆë‹¤."

---

### 9.7 ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì 

**Q17: ì‹¤ë¬´ì—ì„œ ì´ ì¶”ì²œ ì‹œìŠ¤í…œì„ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆì„ê¹Œìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "**ìƒí™©ë³„ ì•Œê³ ë¦¬ì¦˜ ì„ íƒ** ì „ëµì„ ì œì•ˆí•©ë‹ˆë‹¤:
>
> **1) ì‹ ê·œ ì‚¬ìš©ì (Cold Start)**
> - ì•Œê³ ë¦¬ì¦˜: ì¸ê¸°ë„ ê¸°ë°˜
> - ì´ìœ : ê°œì¸ ë°ì´í„° ì—†ìŒ, ë¹ ë¥¸ ì‘ë‹µ (5ms)
> - ì˜ˆ: ê°€ì… ì§í›„ 'ì¸ê¸° ì˜í™”' ì¶”ì²œ
>
> **2) ì¼ë°˜ ì‚¬ìš©ì**
> - ì•Œê³ ë¦¬ì¦˜: í•˜ì´ë¸Œë¦¬ë“œ
> - ì´ìœ : ìµœê³  ì •í™•ë„ (Hit Rate 0.8911)
> - ì˜ˆ: í™ˆ í™”ë©´ 'ì¶”ì²œ ì˜í™”' ì„¹ì…˜
>
> **3) ìœ ì‚¬ ì˜í™” ì¶”ì²œ**
> - ì•Œê³ ë¦¬ì¦˜: í˜‘ì—… í•„í„°ë§
> - ì´ìœ : ì„¤ëª… ê°€ëŠ¥ì„± ('ì´ ì˜í™”ë¥¼ ì¢‹ì•„í•œ ì‚¬ëŒë“¤ì´...')
> - ì˜ˆ: ì˜í™” ìƒì„¸ í˜ì´ì§€ í•˜ë‹¨
>
> **4) ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ**
> - ì•Œê³ ë¦¬ì¦˜: ì¥ë¥´ ê¸°ë°˜
> - ì´ìœ : ì •í™•ë„ ë†’ìŒ + ë¹ ë¦„ (80ms)
> - ì˜ˆ: ê´€ë¦¬ì ë¶„ì„ ë„êµ¬
>
> ì´ë¥¼ í†µí•´ **ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œì— ë§ëŠ”** ì¶”ì²œì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

**Q18: ì¶”ì²œ ì‹œìŠ¤í…œì˜ ì„±ê³µì„ ì–´ë–»ê²Œ ì¸¡ì •í•˜ë‚˜ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "**ì˜¤í”„ë¼ì¸ ì§€í‘œ**ì™€ **ì˜¨ë¼ì¸ ì§€í‘œ**ë¡œ ë‚˜ëˆ  ì¸¡ì •í•©ë‹ˆë‹¤:
>
> **ì˜¤í”„ë¼ì¸ ì§€í‘œ (ë³¸ í”„ë¡œì íŠ¸):**
> - Hit Rate@10: 0.8911 (89% ì‚¬ìš©ìê°€ ë§Œì¡±)
> - Precision@10: 0.1584 (ì¶”ì²œ ì •í™•ë„)
> - Recall@10: 0.3973 (ì»¤ë²„ë¦¬ì§€)
> - Latency: <230ms (ì‹¤ì‹œê°„ ê°€ëŠ¥)
>
> **ì˜¨ë¼ì¸ ì§€í‘œ (ì‹¤ì œ ì„œë¹„ìŠ¤):**
> - **CTR (Click-Through Rate)**: ì¶”ì²œ í´ë¦­ë¥ 
> - **CVR (Conversion Rate)**: ì‹¤ì œ ì‹œì²­ë¥ 
> - **Engagement**: í‰ê·  ì‹œì²­ ì‹œê°„
> - **Retention**: ì¬ë°©ë¬¸ìœ¨
>
> ì‹¤ë¬´ì—ì„œëŠ” A/B í…ŒìŠ¤íŠ¸ë¡œ ê¸°ì¡´ ì‹œìŠ¤í…œ ëŒ€ë¹„ ì˜¨ë¼ì¸ ì§€í‘œë¥¼ ë¹„êµí•˜ì—¬, **ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸**ë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ ì¦ëª…í•©ë‹ˆë‹¤."

**Q19: ì¶”ì²œ ë‹¤ì–‘ì„±(Diversity)ì€ ì–´ë–»ê²Œ í™•ë³´í•˜ë‚˜ìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” **í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹**ìœ¼ë¡œ ë‹¤ì–‘ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤:
>
> **ë¬¸ì œ:**
> - í˜‘ì—… í•„í„°ë§ë§Œ ì‚¬ìš© â†’ ë¹„ìŠ·í•œ ì˜í™”ë§Œ ì¶”ì²œ (Filter Bubble)
> - ì¥ë¥´ ê¸°ë°˜ë§Œ ì‚¬ìš© â†’ ì„ í˜¸ ì¥ë¥´ë§Œ ì¶”ì²œ (Echo Chamber)
>
> **í•´ê²°:**
> 1. **ì¥ë¥´ ê¸°ë°˜ (40%)**: ì„ í˜¸ ì¥ë¥´ ë‚´ ë‹¤ì–‘í•œ ì˜í™”
> 2. **í˜‘ì—… í•„í„°ë§ (60%)**: ì˜ì™¸ì˜ ë°œê²¬ (Serendipity)
> 3. **ê°€ì¤‘ í‰ê· **: ë‘ ì•Œê³ ë¦¬ì¦˜ì˜ ê· í˜•
>
> **ì¶”ê°€ ê°œì„ ì•ˆ:**
> - Re-ranking: ìƒìœ„ 30ê°œ ì¶”ì²œ â†’ ì¥ë¥´ ë¶„ì‚° ê³ ë ¤í•˜ì—¬ 10ê°œ ì„ íƒ
> - Exploration: 90%ëŠ” ì •í™•í•œ ì¶”ì²œ, 10%ëŠ” ë¬´ì‘ìœ„ (íƒìƒ‰)
>
> ë‹¤ì–‘ì„±ê³¼ ì •í™•ë„ì˜ **Trade-off**ë¥¼ ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œì— ë§ê²Œ ì¡°ì •í•´ì•¼ í•©ë‹ˆë‹¤."

---

### 9.8 ì‹¬í™” ì§ˆë¬¸

**Q20: SVDì™€ ALS(Alternating Least Squares)ì˜ ì°¨ì´ëŠ”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "ë‘˜ ë‹¤ í–‰ë ¬ ë¶„í•´ ê¸°ë²•ì´ì§€ë§Œ **ìµœì í™” ë°©ë²•**ì´ ë‹¤ë¦…ë‹ˆë‹¤:
>
> **SVD (ë³¸ í”„ë¡œì íŠ¸):**
> - ìˆ˜í•™ì  ë¶„í•´ (scipy.sparse.linalg.svds)
> - ì¥ì : ë¹ ë¦„, ëª…í™•í•œ í•´
> - ë‹¨ì : í¬ì†Œ í–‰ë ¬ì—ì„œ 0ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ ëª¨í˜¸
>
> **ALS (Netflix Prizeì—ì„œ ìœ ëª…):**
> - ë°˜ë³µ ìµœì í™” (Iterative)
> - User ê³ ì • â†’ Item ìµœì í™” â†’ Item ê³ ì • â†’ User ìµœì í™” ë°˜ë³µ
> - ì¥ì : í¬ì†Œ í–‰ë ¬ì— ê°•í•¨, ì œì•½ ì¡°ê±´ ì¶”ê°€ ê°€ëŠ¥
> - ë‹¨ì : ëŠë¦¼, í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ í•„ìš”
>
> ë³¸ í”„ë¡œì íŠ¸ëŠ” **í”„ë¡œí† íƒ€ì…**ì´ë¯€ë¡œ ë¹ ë¥´ê³  ê°„ë‹¨í•œ SVDë¥¼ ì„ íƒí–ˆì§€ë§Œ, ëŒ€ê·œëª¨ ì„œë¹„ìŠ¤ì—ì„œëŠ” ALSê°€ ë” ì í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

**Q21: ì´ í”„ë¡œì íŠ¸ë¥¼ ì–´ë–»ê²Œ í™•ì¥í•  ìˆ˜ ìˆì„ê¹Œìš”?**

**ë‹µë³€ ì˜ˆì‹œ:**
> "3ê°€ì§€ ë°©í–¥ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤:
>
> **1) ë°ì´í„° í™•ì¥**
> - í˜„ì¬: MovieLens 1M (2000ë…„ëŒ€ ë°ì´í„°)
> - í™•ì¥: MovieLens 25M (ìµœì‹  ë°ì´í„°, 2,500ë§Œ í‰ì )
> - íš¨ê³¼: ë” ì •í™•í•œ ì˜ˆì¸¡, ìµœì‹  íŠ¸ë Œë“œ ë°˜ì˜
>
> **2) ì•Œê³ ë¦¬ì¦˜ ê³ ë„í™”**
> - ë”¥ëŸ¬ë‹: Neural Collaborative Filtering (NCF)
> - ì»¨í…ìŠ¤íŠ¸: ì‹œê°„ëŒ€, ìš”ì¼, ë‚ ì”¨ ê³ ë ¤
> - ë©€í‹°ëª¨ë‹¬: í¬ìŠ¤í„° ì´ë¯¸ì§€, ì¤„ê±°ë¦¬ í…ìŠ¤íŠ¸ í™œìš©
>
> **3) ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì¶”ê°€**
> - A/B í…ŒìŠ¤íŠ¸ ìë™í™”
> - ì‹¤ì‹œê°„ ì¶”ì²œ (Streaming ë°ì´í„°)
> - ì„¤ëª… ìƒì„± ('ì™œ ì´ ì˜í™”ë¥¼ ì¶”ì²œí•˜ëŠ”ê°€?')
>
> íŠ¹íˆ **ì„¤ëª… ê°€ëŠ¥ì„±(Explainability)**ì€ ì‚¬ìš©ì ì‹ ë¢°ë„ í–¥ìƒì— ì¤‘ìš”í•˜ë¯€ë¡œ, ìš°ì„  ìˆœìœ„ê°€ ë†’ìŠµë‹ˆë‹¤."

---

## 10. í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

ì´ ê°€ì´ë“œë¥¼ ì™„ë²½íˆ ì´í•´í–ˆë‹¤ë©´ ë‹¤ìŒ ì§ˆë¬¸ì— ë‹µí•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤:

### ë°ì´í„° ì´í•´
- [ ] MovieLens 1M ë°ì´í„°ì…‹ì˜ í¬ê¸°ì™€ êµ¬ì¡°ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Train/Testë¥¼ ì‹œê°„ ê¸°ë°˜ìœ¼ë¡œ ë¶„ë¦¬í•œ ì´ìœ ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] ë°ì´í„° í¬ì†Œì„± 95.74%ì˜ ì˜ë¯¸ì™€ ì˜í–¥ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Long Tail ë¶„í¬ê°€ ì¶”ì²œ ì‹œìŠ¤í…œì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Cold Start ë¬¸ì œë¥¼ ì •ì˜í•˜ê³  í•´ê²° ë°©ë²•ì„ ì œì‹œí•  ìˆ˜ ìˆë‹¤

### ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
- [ ] 5ê°€ì§€ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì˜ ì›ë¦¬ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ ìˆ˜ì‹ê³¼ í•¨ê»˜ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] SVDì˜ ì ì¬ ìš”ì¸ ê°œë…ì„ ì˜ˆì‹œì™€ í•¨ê»˜ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] ë² ì´ì§€ì•ˆ ê°€ì¤‘ í‰ì ì˜ ê³„ì‚° ë°©ë²•ê³¼ íš¨ê³¼ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] í•˜ì´ë¸Œë¦¬ë“œ ì•Œê³ ë¦¬ì¦˜ì˜ ê°€ì¤‘ì¹˜ ì„ íƒ ê·¼ê±°ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤

### í‰ê°€ ë°©ë²•ë¡ 
- [ ] Hit Rate, Precision, Recallì˜ ì°¨ì´ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] A/B í…ŒìŠ¤íŠ¸ ì„¤ê³„ ë°©ë²•ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Precisionê³¼ Recallì˜ Trade-offë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] ë² ì´ìŠ¤ë¼ì¸ ëŒ€ë¹„ ê°œì„ ìœ¨ì„ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤

### ê¸°ìˆ  êµ¬í˜„
- [ ] PostgreSQL CTEì˜ ì¥ì ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Sparse Matrixì˜ íš¨ê³¼ë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Streamlitì˜ ìºì‹± ë©”ì»¤ë‹ˆì¦˜ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] numpy ë²„ì „ í˜¸í™˜ì„± ë¬¸ì œì™€ í•´ê²° ë°©ë²•ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤

### ë¬¸ì œ í•´ê²°
- [ ] ëŒ€ìš©ëŸ‰ ìœ ì‚¬ë„ ê³„ì‚° ìµœì í™” ê³¼ì •ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] Cold Start í•´ê²° ì „ëµ 3ê°€ì§€ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] ë°°í¬ ê³¼ì •ì—ì„œ ë°œìƒí•œ ë¬¸ì œì™€ í•´ê²° ë°©ë²•ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤

### ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì 
- [ ] ìƒí™©ë³„ ìµœì  ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤
- [ ] ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸ ì§€í‘œì˜ ì°¨ì´ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- [ ] ì¶”ì²œ ë‹¤ì–‘ì„± í™•ë³´ ë°©ë²•ì„ ì œì‹œí•  ìˆ˜ ìˆë‹¤

---

## ë¶€ë¡: ì£¼ìš” ìš©ì–´ ì •ë¦¬

### A
- **A/B Testing**: ë‘ ë²„ì „ì„ ë™ì‹œì— ì‹¤í—˜í•˜ì—¬ ë°ì´í„°ë¡œ ë” ë‚˜ì€ ê²ƒì„ ì„ íƒí•˜ëŠ” ë°©ë²•
- **ALS (Alternating Least Squares)**: êµëŒ€ë¡œ ìµœì†Œì œê³±ë²•ì„ ì ìš©í•˜ëŠ” í–‰ë ¬ ë¶„í•´ ê¸°ë²•

### B
- **Bayesian Weighted Rating**: í‰ì  ìˆ˜ë¥¼ ê³ ë ¤í•œ ê°€ì¤‘ í‰ê·  í‰ì  (IMDB Top 250 ë°©ì‹)

### C
- **Cold Start**: ì‹ ê·œ ì‚¬ìš©ì/ì•„ì´í…œì— ëŒ€í•œ ë°ì´í„° ë¶€ì¡± ë¬¸ì œ
- **Collaborative Filtering**: ë¹„ìŠ·í•œ ì‚¬ìš©ì/ì•„ì´í…œ ê¸°ë°˜ ì¶”ì²œ
- **Content-based Filtering**: ì•„ì´í…œ ì†ì„± ê¸°ë°˜ ì¶”ì²œ
- **Cosine Similarity**: ë‘ ë²¡í„° ê°„ ê°ë„ë¡œ ìœ ì‚¬ë„ ì¸¡ì • (0~1)
- **CSR Matrix**: Compressed Sparse Row - í¬ì†Œ í–‰ë ¬ ì €ì¥ í˜•ì‹
- **CTE (Common Table Expression)**: SQLì—ì„œ ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ë‹¨ê³„ë³„ë¡œ ë¶„ë¦¬í•˜ëŠ” ê¸°ë²•

### E
- **EDA (Exploratory Data Analysis)**: íƒìƒ‰ì  ë°ì´í„° ë¶„ì„

### H
- **Hit Rate@K**: ì¶”ì²œ Kê°œ ì¤‘ ìµœì†Œ 1ê°œë¼ë„ ë§ìœ¼ë©´ ì„±ê³µ
- **Hybrid Recommendation**: ì—¬ëŸ¬ ì¶”ì²œ ë°©ë²•ì„ ì¡°í•©

### L
- **Latency**: ì¶”ì²œ ìƒì„±ì— ê±¸ë¦¬ëŠ” ì‹œê°„
- **Long Tail**: ì†Œìˆ˜ê°€ ì¸ê¸°, ë‹¤ìˆ˜ê°€ ë¹„ì¸ê¸°ì¸ ë¶„í¬

### M
- **Matrix Factorization**: í° í–‰ë ¬ì„ ì‘ì€ í–‰ë ¬ë“¤ì˜ ê³±ìœ¼ë¡œ ë¶„í•´

### P
- **Precision@K**: ì¶”ì²œ Kê°œ ì¤‘ ë§ì€ ë¹„ìœ¨
- **PostgreSQL**: ì˜¤í”ˆì†ŒìŠ¤ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤

### R
- **Recall@K**: ì‹¤ì œ ì¢‹ì•„í•œ ê²ƒ ì¤‘ ì¶”ì²œì— í¬í•¨ëœ ë¹„ìœ¨
- **Reproducibility**: ì¬í˜„ ê°€ëŠ¥ì„± (ë™ì¼í•œ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ì–»ì„ ìˆ˜ ìˆëŠ” ëŠ¥ë ¥)

### S
- **Sparse Matrix**: ëŒ€ë¶€ë¶„ 0ì¸ í–‰ë ¬ (í¬ì†Œ í–‰ë ¬)
- **Sparsity**: í¬ì†Œì„± (ì „ì²´ ì¤‘ ë¹ˆ ê³µê°„ ë¹„ìœ¨)
- **SVD (Singular Value Decomposition)**: íŠ¹ì´ê°’ ë¶„í•´

### T
- **Train/Test Split**: í•™ìŠµìš© ë°ì´í„°ì™€ í‰ê°€ìš© ë°ì´í„° ë¶„ë¦¬

---

## ë§ˆì¹˜ë©°

ì´ ê°€ì´ë“œëŠ” MovieLens ì˜í™” ì¶”ì²œ ì‹œìŠ¤í…œ í”„ë¡œì íŠ¸ì˜ **ëª¨ë“  í•µì‹¬ ê°œë…**ì„ ë‹´ì•˜ìŠµë‹ˆë‹¤.

**ê³µë¶€ ë°©ë²• ì œì•ˆ:**
1. ê° ì„¹ì…˜ì„ ìˆœì„œëŒ€ë¡œ ì½ìœ¼ë©° ì´í•´
2. ì˜ˆì‹œ ê³„ì‚°ì„ ì§ì ‘ ì†ìœ¼ë¡œ ë”°ë¼í•˜ê¸°
3. ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸ì— ì†Œë¦¬ë‚´ì–´ ë‹µë³€í•´ë³´ê¸°
4. ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ì´í•´ë„ ì ê²€
5. ì‹¤ì œ ì½”ë“œì™€ ëŒ€ì¡°í•˜ë©° ë³µìŠµ

**ë©´ì ‘ ì¤€ë¹„ íŒ:**
- ë‹¨ìˆœ ì•”ê¸°ë³´ë‹¤ **ì™œ ê·¸ë ‡ê²Œ í–ˆëŠ”ì§€** ë…¼ë¦¬ì ìœ¼ë¡œ ì„¤ëª…
- ìˆ«ì(ì§€í‘œ)ëŠ” ì •í™•í•˜ê²Œ ê¸°ì–µ
- íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ í•­ìƒ ì–¸ê¸‰ (ì¥ë‹¨ì )
- ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì ì—ì„œ ê°€ì¹˜ ê°•ì¡°

ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ **ë°ì´í„° ë¶„ì„ê°€ë¡œì„œì˜ ì—­ëŸ‰**ì„ ì¶©ë¶„íˆ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í™”ì´íŒ…!

---

**ì‘ì„±ì**: Claude Code
**ìµœì¢… ìˆ˜ì •ì¼**: 2025-12-09
**ë²„ì „**: 1.0
